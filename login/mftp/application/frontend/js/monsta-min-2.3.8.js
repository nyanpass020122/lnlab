function FileTransferStats(e){this.completedBytes=-1,this.previousCompletedBytes=-1,this.totalBytes=e,this.previousSampleTime=-1,this._transferRateSamples=[]}function rot13(e){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})}function basicURLValidate(e){return new RegExp("^\\s*https?://.+","i").test(e)}function extractFileExtension(e){if("string"!=typeof e)return"";var t=e.split(".");return 1==t.length||2==t.length&&""==t[0]?"":t[t.length-1].toLowerCase()}function isArchiveFilename(e){switch(extractFileExtension(e)){case"zip":case"tar":return!0;case"gz":return null!=e.match(/.\.tar\.gz$/i);default:return!1}}function isExtractSupported(e){return g_pharDataAvailable?isArchiveFilename(e):"zip"==extractFileExtension(e)}function isEmpty(e){return null===e||void 0===e||""===e}function ensureTrailingSlash(e){return"/"!=e.substr(e.length-1,1)?e+"/":e}function isSubPath(e,t){return!(t.length<e.length)&&(e=ensureTrailingSlash(e),t=ensureTrailingSlash(t),t.substr(0,e.length)==e)}function nameJoin(e){switch(e.length){case 0:return"";case 1:return e[0];default:for(var t="",n=0;n<e.length-1;++n)t+=e[n],n<e.length-2&&(t+=", ");return t+=" and "+e[e.length-1]}}function normalizeFileSize(e){if("number"!=typeof e)return"";for(var t="B",n=e,o=[[1099511627776,"TB"],[1073741824,"GB"],[1048576,"MB"],[1024,"KB"]],i=0;i<o.length;++i)if(e>=o[i][0]){n=e/o[i][0],n=n.toFixed(1),t=o[i][1];break}return"KB"==t&&(n=Math.round(n)),n+t}function parentPath(e){if(e.length<=1)return"/";for(var t="/"==e.substr(0,1);e.length&&"/"==e.substr(e.length-1,1);)e=e.substr(0,e.length-1);for(var n=[],o=e.split("/"),i=0;i<o.length-1;++i){var r=o[i];0!=r.length&&n.push(r)}return 0==n.length?"/":(t?"/":"")+n.join("/")}function safeConsoleError(e){window.console&&window.console.error&&console.error(e)}function parseErrorResponse(e,t){if(safeConsoleError(e),e.data&&e.data.errors)return e.data.errors.join(" ");var n=isEmpty(t)?"":" during "+t;return 408==e.status||e.status==-1?"OPERATION_TIMEOUT":"An unknown error occurred"+n+"."}function getLocalizedErrorFromResponse(e){return e.data&&e.data.localizedErrors&&0!=e.data.localizedErrors.length?e.data.localizedErrors[0]:null}function pathJoin(e,t){return e+("/"==e.substr(e.length-1,1)?"":"/")+t}function responseIsUnsuccessful(e){return void 0==e.data||1!=e.data.success}function showResponseErrorWithTranslatedAction(e,t,n,o){function i(e){a.push(e),a.length==r&&n.$broadcast("modal-error:show",a.join(" "))}if(e.data&&e.data.localizedErrors)for(var r=e.data.localizedErrors.length,a=[],s=0;s<r;++s){var c=e.data.localizedErrors[s];void 0===c.context||c.context,safeConsoleError(e.data),null==c.context&&(c.context={}),void 0==c.context.operation&&(c.context.operation=t),o(c.context.operation).then(function(e){c.context.operation=e,o(c.errorName,c.context).then(i,i)},function(){o(c.errorName,c.context).then(i,i)})}else n.$broadcast("modal-error:show",parseErrorResponse(e,t),null,{action:t})}function showResponseError(e,t,n,o){o(t).then(function(t){showResponseErrorWithTranslatedAction(e,t,n,o)},function(){showResponseErrorWithTranslatedAction(e,t,n,o)})}function splitFileExtension(e){var t=!1;"."==e.substr(0,1)&&(e=e.substr(1,e.length-1),t=!0);var n,o=e.split("."),i="";return o.length>1?(i="."+o[o.length-1],n=o.slice(0,o.length-1).join(".")):n=o[0],[(t?".":"")+n,i]}function b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("0x"+t))}))}function b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function validateFileNameNonEmpty(e){return""!=e}function validateFileNameContainsNoSlash(e){return e.indexOf("/")==-1}function mapParseInt(e){return parseInt(e)}function simpleCompare(e,t){return e-t}function betaVersionComponentCompare(e,t){var n=e.indexOf("b")!=-1,o=t.indexOf("b")!=-1,i=e.split("b").map(mapParseInt),r=t.split("b").map(mapParseInt);if(n&&o){var a=simpleCompare(i[0],r[0]);return 0!=a?a:simpleCompare(i[1],r[1])}return n?i[0]>r[0]?1:-1:r[0]>i[0]?1:-1}function versionComponentCompare(e,t){return e.indexOf("b")!=-1||t.indexOf("b")!=-1?betaVersionComponentCompare(e,t):simpleCompare(parseInt(e),parseInt(t))}function versionIsLessThan(e,t){var n=e.split(".");2==n.length&&n.push("0");var o=t.split(".");2==o.length&&o.push("0");for(var i=0;i<3;++i){var r=versionComponentCompare(n[i],o[i]);if(0!=r)return r<0}return!1}var MAX_CONCURRENT_UPLOADS=1,MAX_UPLOAD_BYTES=-1,UPLOAD_ACTION="uploadFileToNewDirectory",FEATURE_EXTRACT_UPLOAD=!0,DEBUG=!1,FEATURE_MULTI_STAGE_UPLOAD=!1,g_ConnectionDefaults={ftp:{port:21},sftp:{port:22}};angular.module("MonstaFTP",["pascalprecht.translate"]),angular.module("MonstaFTP").config(["$httpProvider",function(e){"use strict";var t=0;e.interceptors.push(["$rootScope","$q",function(e,n){var o=function(n){t+=n,e.$broadcast("request-count-change",t)};return{request:function(e){return e.__ignoreStatusIndicator||o(1),e},responseError:function(e){return safeConsoleError(e),e.config.__ignoreStatusIndicator||o(-1),n.reject(e)},response:function(e){return e.config.__ignoreStatusIndicator||o(-1),e}}}])}]),angular.module("MonstaFTP").config(["$translateProvider",function(e){"use strict";if(e.useSanitizeValueStrategy("escape"),window.underTest||e.useStaticFilesLoader({prefix:"application/languages/",suffix:".json"}),e.useMessageFormatInterpolation(),e.fallbackLanguage("en_us"),window.localStorage)try{var t=localStorage.getItem("monsta-setting-language");t&&(g_defaultLanguage=JSON.parse(t))}catch(e){}e.preferredLanguage(g_defaultLanguage)}]),function(){function e(){return{isAuthenticated:!1,rememberLogin:!1,configuration:null,connectionType:null,initialDirectory:null,hasServerSavedAuthentication:!1,_localStorageSupported:null,getConfigurationAsJSON:function(){return JSON.stringify(this.configuration)},setConfigurationFromJSON:function(e){this.configuration=null==e?null:JSON.parse(e)},localStorageSupported:function(){if(null==this._localStorageSupported){var e=window.localStorage;try{e.setItem("test","1"),e.removeItem("test"),this._localStorageSupported=!0}catch(e){this._localStorageSupported=!1}}return this._localStorageSupported},postLogin:function(){this.isAuthenticated=!0,this.saveSettings()},loadSettings:function(){this.localStorageSupported()&&(this.loadMetaConfiguration(),this.rememberLogin&&this.loadConfiguration())},saveSettings:function(){this.localStorageSupported()&&(this.saveMetaConfiguration(),this.rememberLogin?this.saveConfiguration():this.clearConfiguration())},clearSettings:function(){this.localStorageSupported()&&(this.rememberLogin||this.clearConfiguration())},logout:function(){this.isAuthenticated=!1,this.initialDirectory=null,this.saveSettings(),this.clearSettings(),this.configuration=null},loadConfiguration:function(){this.localStorageSupported()&&(this.setConfigurationFromJSON(localStorage.getItem("monsta-configuration")),this.connectionType=localStorage.getItem("monsta-connectionType"),this.initialDirectory=localStorage.getItem("monsta-initialDirectory"))},saveConfiguration:function(){this.localStorageSupported()&&(localStorage.setItem("monsta-configuration",this.getConfigurationAsJSON()),localStorage.setItem("monsta-connectionType",this.connectionType),localStorage.setItem("monsta-initialDirectory",this.initialDirectory))},clearConfiguration:function(){localStorage.removeItem("monsta-configuration"),localStorage.removeItem("monsta-connectionType"),localStorage.removeItem("monsta-initialDirectory")},loadMetaConfiguration:function(){this.localStorageSupported()&&(this.rememberLogin="true"===localStorage.getItem("monsta-rememberLogin"),this.isAuthenticated="true"===localStorage.getItem("monsta-isAuthenticated"),this.hasServerSavedAuthentication="true"===localStorage.getItem("monsta-hasServerSavedAuthentication"))},saveMetaConfiguration:function(){this.localStorageSupported()&&(localStorage.setItem("monsta-isAuthenticated",1==this.isAuthenticated?"true":"false"),localStorage.setItem("monsta-rememberLogin",1==this.rememberLogin?"true":"false"),localStorage.setItem("monsta-hasServerSavedAuthentication",1==this.hasServerSavedAuthentication?"true":"false"))},hasStoredAuthenticationDetails:function(){return!isEmpty(this.connectionType)&&!isEmpty(this.configuration)},getActiveConfiguration:function(){var e=this.configuration[this.connectionType];return void 0!==e.port&&null!=e.port&&(e.port=parseInt(e.port)),e}}}angular.module("MonstaFTP").factory("authenticationFactory",e)}(),function(){function e(e,t,n){function o(e){return e.preventDefault(),u.changeDirectoryToItem(n(this).data("index")),!1}function i(e,t){var i=n('<li class="breadcrumb-display"></li>'),r=n('<a href="#" data-index="'+t+'"></a>').text(e+" ");return r.click(o),i.append(r),i}function r(){var e=n("#breadcrumb-ol"),t=n("#breadcrumb__home_link"),o=n("#history > button"),r=n(window).width(),a=r-o.width()-120,s=0;e.find(".breadcrumb-display").remove();for(var c=u.pathComponents.length-1,l=null,d=c;d>=0;--d){var f=u.pathComponents[d],h=i(f,d+1);if(null===l&&(l=h),t.after(h),(s+=h.outerWidth())>a){if(d!=c&&h.remove(),0!=c){var p=i("…",d+1);t.after(p)}break}}if(s>a)for(var m=1;l.offset().left+l.outerWidth()+15>r;){++m;var g=u.pathComponents[c],y=g.length,v=g.substr(0,y-m);if(v+="…",l.text(v),y-m==1)break}}function a(e){if("string"!=typeof e||0==e.length)return u.pathComponents=[],void(u.hasLeadingSlash=!1);u.hasLeadingSlash="/"==e.substr(0,1),"/"==e?u.pathComponents=[]:(u.pathComponents=e.split("/"),""==u.pathComponents[0]&&u.pathComponents.splice(0,1),""==u.pathComponents[u.pathComponents.length-1]&&u.pathComponents.splice(u.pathComponents.length-1,1)),u.renderBreadcrumbs()}function s(e){var n="";0!=e&&(n=u.pathComponents.slice(0,e).join("/"));var o=(u.hasLeadingSlash?"/":"")+n;t.$broadcast("change-directory",o)}function c(e,t){u.setPath(t)}var u=this;u.pathComponents=[],u.hasLeadingSlash=!1,u.renderBreadcrumbs=r,this.setPath=a,this.changeDirectoryToItem=s,e.$on("directory-changed",c),e.$on("logout",function(){u.setPath("/")}),n(window).resize(function(){u.renderBreadcrumbs()})}angular.module("MonstaFTP").controller("BreadcrumbController",e),e.$inject=["$scope","$rootScope","jQuery"]}(),function(){function e(e){return{jQuery:e.jQuery,loadedModes:[],readOnly:!1,convertFilenameToMode:function(e){var t=extractFileExtension(e),n={htm:"htmlmixed",html:"htmlmixed",php:"php",asp:"htmlembedded",aspx:"htmlembedded",js:"javascript",css:"css",xhtml:"htmlmixed",cfm:"htmlembedded",pl:"perl",py:"python",c:"clike",cpp:"clike",rb:"ruby",java:"java",xml:"xml",json:"json"};return n.hasOwnProperty(t)?n[t]:null},getModeDependencies:function(e){if(null==e)return[];var t={htmlmixed:["xml","javascript","css"],php:["xml","javascript","css","htmlmixed","clike"]};return t.hasOwnProperty(e)?t[e]:null},generateModePath:function(e){return"//cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/mode/"+e+"/"+e+".js"},setupCodeMirror:function(e,t,n){n(CodeMirror.fromTextArea(t,{value:t.value,mode:e,lineNumbers:!0,lineWrapping:!0,readOnly:this.readOnly,autoRefresh:!0}))},postScriptLoad:function(e,t,n){this.loadedModes.indexOf(e)==-1&&this.loadedModes.push(e),this.setupCodeMirror(e,t,n)},loadModeAfterDependencies:function(e,t,n){if(null===e||this.loadedModes.indexOf(e)!=-1)return void this.setupCodeMirror(e,t,n);var o=this;this.jQuery.getScript(this.generateModePath(e),function(){o.postScriptLoad.call(o,e,t,n)})},initiateCodeMirror:function(e,t,n){var o=this.getModeDependencies(e),i=[];if(null!=o)for(var r=0;r<o.length;++r)this.loadedModes.indexOf(o[r])==-1&&i.push(o[r]);if(0==i.length)this.loadModeAfterDependencies(e,t,n);else{var a=i[0],s=this;this.jQuery.getScript(this.generateModePath(a),function(){s.loadedModes.push(a),s.initiateCodeMirror.call(s,e,t,n)})}}}}angular.module("MonstaFTP").factory("codeMirrorFactory",e),e.$inject=["$window"]}(),function(){function e(e,t,n){function o(){return(null===f||h)&&(f=e.getSystemVars().then(i,r)),f}function i(e){return p=e.data.data}function r(e){return h=!0,t.reject(e)}function a(){return e.setApplicationSettings(p.applicationSettings)}function s(e,t){if(null!=p){void 0==p.applicationSettings&&(p.applicationSettings={});var o=p.applicationSettings[e]!=t;p.applicationSettings[e]=t,o&&n.$broadcast("configuration:key-changed",e,t)}}function c(e){return!!g_isMonstaPostEntry&&m.indexOf(e)!=-1&&void 0!=g_monstaPostEntryVars.settings&&void 0!=g_monstaPostEntryVars.settings[e]}function u(e){return g_monstaPostEntryVars.settings[e]}function l(e){return c(e)?u(e):null==p?null:p.applicationSettings[e]}var d={getSystemConfiguration:o,saveApplicationSettings:a,setApplicationSetting:s,getApplicationSetting:l},f=null,h=!1,p=null,m=["postLogoutUrl"];return d}angular.module("MonstaFTP").factory("configurationFactory",e),e.$inject=["connectionFactory","$q","$rootScope"]}(),function(){function e(e,t){function n(){if(null==f){var e=window.localStorage;try{e.setItem("test","1"),e.removeItem("test"),f=!0}catch(e){f=!1}}return f}function o(e){var t=localStorage.getItem(e);return"string"==typeof t?JSON.parse(t):t}function i(e,t){localStorage.setItem(e,JSON.stringify(t))}function r(e,t){e="monsta-setting-"+e,n()?i(e,t):h[e]=t}function a(e){return e="monsta-setting-"+e,n()?o(e):h[e]}function s(e){return void 0==a(e)?p[e]:a(e)}function c(){return e.getSystemConfiguration().then(function(e){p=e.applicationSettings},l)}function u(e,n){var o=a(e)!=n;r(e,n),o&&t.$broadcast("configuration:key-changed",e,n)}function l(e){return $q.reject(e)}var d={getApplicationSettings:c,getConfigurationItem:s,setConfigurationItem:u},f=null,h={},p={};return d}angular.module("MonstaFTP").factory("localConfigurationFactory",e),e.$inject=["configurationFactory","$rootScope"]}(),function(){function e(e,t){var n=window.g_xhrTimeoutSeconds||30,o=["downloadMultipleFiles","fetchRemoteFile","copy","extractArchive","deleteMultiple","transferUploadToRemote"],i=function(e,t,n){e.actionName=t,e.context={remotePath:n}},r=function(e,t,n,o){e.actionName=t,e.context={source:n,destination:o}};return{_sendRequest:function(t,i){var r=o.indexOf(t.actionName)==-1?1e3*n:null,a={method:"POST",url:"application/api/api.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(JSON.stringify(e[n])));return t.join("&")},timeout:r,data:{request:t},__ignoreStatusIndicator:!!i};return DEBUG&&console.log(a),e(a)},getRequestBody:function(){var e=angular.copy(t.getActiveConfiguration()),n=g_ConnectionDefaults[t.connectionType];if(n)for(var o in n)n.hasOwnProperty(o)&&(null!=e[o]&&void 0!=e[o]&&""!=e[o]||(e[o]=n[o]));return{connectionType:t.connectionType,configuration:e}},getEmptyRequestBody:function(){return{connectionType:null,configuration:null}},getListDirectoryRequest:function(e,t,n){e.actionName="listDirectory",e.context={path:t,showHidden:n}},getFetchFileRequest:function(e,t){i(e,"fetchFile",t)},getMakeDirectoryRequest:function(e,t){i(e,"makeDirectory",t)},getDeleteDirectoryRequest:function(e,t){i(e,"deleteDirectory",t)},getDeleteFileRequest:function(e,t){i(e,"deleteFile",t)},getCopyRequest:function(e,t,n){r(e,"copy",t,n)},getRenameRequest:function(e,t,n){r(e,"rename",t,n)},getChangePermissionsRequest:function(e,t,n){i(e,"changePermissions",t),e.context.mode=n},getPutFileContentsRequest:function(e,t,n,o){e.actionName="putFileContents",e.context={remotePath:t,fileContents:n},o&&(e.context.encoding="rot13")},getGetFileContentsRequest:function(e,t){e.actionName="getFileContents",e.context={remotePath:t}},getTestConnectAndAuthenticateRequest:function(e){e.actionName="testConnectAndAuthenticate",e.context={}},getCheckSavedAuthExistsRequest:function(e){e.actionName="checkSavedAuthExists",e.context={}},getWriteSavedAuthRequest:function(e,t,n){e.actionName="writeSavedAuth",e.context={password:t,authData:n}},getReadSavedAuthRequest:function(e,t){e.actionName="readSavedAuth",e.context={password:t}},getReadLicenseRequest:function(e){e.actionName="readLicense",e.context={}},getGetSystemVarsRequest:function(e){e.actionName="getSystemVars",e.context={}},getFetchRemoteFileRequest:function(e,t,n){r(e,"fetchRemoteFile",t,n)},getDownloadMultipleFilesRequest:function(e,t,n){e.actionName="downloadMultipleFiles",e.context={baseDirectory:t,items:n}},getSetApplicationSettingsRequest:function(e,t){e.actionName="setApplicationSettings",e.context={applicationSettings:t}},getDeleteMultipleRequest:function(e,t){e.actionName="deleteMultiple",e.context={pathsAndTypes:t}},getExtractArchiveRequest:function(e,t,n,o){e.actionName="extractArchive",e.context={fileKey:t,fileIndexOffset:n,extractCount:o}},getUpdateLicenseRequest:function(e,t){e.actionName="updateLicense",e.context={license:t}},getReserveUploadContextRequest:function(e,t,n){e.actionName="reserveUploadContext",e.context={actionName:t,remotePath:n}},getTransferUploadToRemoteRequest:function(e,t){e.actionName="transferUploadToRemote",e.context={sessionKey:t}},getGetRemoteFileSizeRequest:function(e,t){e.actionName="getRemoteFileSize",e.context={remotePath:t}},getGetDefaultPathRequest:function(e){e.actionName="getDefaultPath"},listDirectory:function(e,t){return this.requestBody=this.getRequestBody(),this.getListDirectoryRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},fetchFile:function(e){return this.requestBody=this.getRequestBody(),this.getFetchFileRequest(this.requestBody,e,!0),this._sendRequest(this.requestBody)},rename:function(e,t){return this.requestBody=this.getRequestBody(),this.getRenameRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},changePermissions:function(e,t){return this.requestBody=this.getRequestBody(),this.getChangePermissionsRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},copy:function(e,t){return this.requestBody=this.getRequestBody(),this.getCopyRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},deleteFile:function(e){return this.requestBody=this.getRequestBody(),this.getDeleteFileRequest(this.requestBody,e),this._sendRequest(this.requestBody)},deleteDirectory:function(e){return this.requestBody=this.getRequestBody(),this.getDeleteDirectoryRequest(this.requestBody,e),this._sendRequest(this.requestBody)},makeDirectory:function(e){return this.requestBody=this.getRequestBody(),this.getMakeDirectoryRequest(this.requestBody,e),this._sendRequest(this.requestBody)},getFileContents:function(e){return this.requestBody=this.getRequestBody(),this.getGetFileContentsRequest(this.requestBody,e),this._sendRequest(this.requestBody)},putFileContents:function(e,t,n,o){this.requestBody=this.getRequestBody();var i=b64EncodeUnicode(t),r=o?rot13(i):i;return this.getPutFileContentsRequest(this.requestBody,e,r,o),this._sendRequest(this.requestBody,n)},testConnectAndAuthenticate:function(){return this.requestBody=this.getRequestBody(),this.getTestConnectAndAuthenticateRequest(this.requestBody),this._sendRequest(this.requestBody)},checkSavedAuthExists:function(){return this.requestBody=this.getEmptyRequestBody(),this.getCheckSavedAuthExistsRequest(this.requestBody),this._sendRequest(this.requestBody)},writeSavedAuth:function(e,t){return this.requestBody=this.getEmptyRequestBody(),this.getWriteSavedAuthRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},readSavedAuth:function(e){return this.requestBody=this.getEmptyRequestBody(),this.getReadSavedAuthRequest(this.requestBody,e),this._sendRequest(this.requestBody)},getLicense:function(){return this.requestBody=this.getEmptyRequestBody(),this.getReadLicenseRequest(this.requestBody),this._sendRequest(this.requestBody)},getSystemVars:function(){return this.requestBody=this.getEmptyRequestBody(),this.getGetSystemVarsRequest(this.requestBody),this._sendRequest(this.requestBody)},fetchRemoteFile:function(e,t){return this.requestBody=this.getRequestBody(),this.getFetchRemoteFileRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},downloadMultipleFiles:function(e,t){return this.requestBody=this.getRequestBody(),this.getDownloadMultipleFilesRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},setApplicationSettings:function(e){return this.requestBody=this.getRequestBody(),this.getSetApplicationSettingsRequest(this.requestBody,e),this._sendRequest(this.requestBody)},deleteMultiple:function(e){return this.requestBody=this.getRequestBody(),this.getDeleteMultipleRequest(this.requestBody,e),this._sendRequest(this.requestBody)},extractArchive:function(e,t,n){return this.requestBody=this.getRequestBody(),this.getExtractArchiveRequest(this.requestBody,e,t,n),this._sendRequest(this.requestBody)},updateLicense:function(e){return this.requestBody=this.getRequestBody(),this.getUpdateLicenseRequest(this.requestBody,e),this._sendRequest(this.requestBody)},reserveUploadContext:function(e,t){return this.requestBody=this.getRequestBody(),this.getReserveUploadContextRequest(this.requestBody,e,t),this._sendRequest(this.requestBody)},transferUploadToRemote:function(e){return this.requestBody=this.getRequestBody(),this.getTransferUploadToRemoteRequest(this.requestBody,e),this._sendRequest(this.requestBody)},getRemoteFileSize:function(e){return this.requestBody=this.getRequestBody(),this.getGetRemoteFileSizeRequest(this.requestBody,e),this._sendRequest(this.requestBody)},getDefaultPath:function(){return this.requestBody=this.getRequestBody(),this.getGetDefaultPathRequest(this.requestBody),this._sendRequest(this.requestBody)}}}angular.module("MonstaFTP").factory("connectionFactory",e),e.$inject=["$http","authenticationFactory"]}(),function(){function e(){var e=function(e,t){return e.isDirectory==t.isDirectory?0:e.isDirectory?-1:1},t=function(t,n){var o=e(t,n);return 0!=o?o:t.name.toLowerCase()==n.name.toLowerCase()?0:t.name.toLowerCase()>n.name.toLowerCase()?1:-1},n=function(n,o){var i=e(n,o);return 0!=i?i:n.modificationDate!=o.modificationDate?n.modificationDate-o.modificationDate:t(n,o)},o=function(n,o){var i=e(n,o);return 0!=i?i:n.size!=o.size?n.size-o.size:t(n,o)},i=function(n,o){var i=e(n,o);if(0!=i)return i;var r=extractFileExtension(n.name),a=extractFileExtension(o.name);return r!=a?r>a?1:-1:t(n,o)};return{_handleReverse:function(e,t){return t&&e.reverse(),e},sortByName:function(e,n){return this._handleReverse(e.sort(t),n)},sortByModificationDate:function(e,t){return this._handleReverse(e.sort(n),t)},sortBySize:function(e,t){return this._handleReverse(e.sort(o),t)},sortByType:function(e,t){return this._handleReverse(e.sort(i),t)}}}angular.module("MonstaFTP").factory("directorySortingFactory",e)}(),function(){function e(e,t){"use strict";function n(e){if(e.dataTransfer.types){for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"==e.dataTransfer.types[t])return!0;return!1}}function o(t){t.preventDefault();var n=t.dataTransfer.items;if(void 0!=n)e.handleItemsBasedUpload(n,null);else{var o=t.dataTransfer.files;e.handleFilesBasedUpload(o,null)}}var i=!1,r=this,a=t("html");r.handleDropEvent=o,a.ready(function(){var e=t("#file-xfer-drop");a.on("dragenter",function(){var n=t("#files");e.css({top:n.position().top,height:n.height(),display:"table"}),e.show()}),a.on("dragend",function(){i||e.hide()}),e.ready(function(){e.on({dragenter:function(e){i=!0,e.stopPropagation(),e.preventDefault()},dragleave:function(n){t.contains(e,t(n.target))||(i=!1),n.stopPropagation(),n.preventDefault(),e.hide()},dragover:function(e){e.stopPropagation(),e.preventDefault()},drop:function(t){i=!1,t.stopPropagation(),t.preventDefault();var o=t.originalEvent;return!(!o.dataTransfer||!o.dataTransfer.files)&&!!n(o)&&(r.handleDropEvent(o),void e.hide())},dragend:function(t){t.stopPropagation(),t.preventDefault(),e.hide()}})})})}angular.module("MonstaFTP").controller("DragDropController",e),e.$inject=["uploadUIFactory","jQuery"]}(),function(){function e(e,t,n,o,i,r,a,s,c,u,l,d,f,h,p,m){"use strict";function g(){null!=Te.systemVars&&1==be&&Te.changeDirectory(null==r.initialDirectory?"/":r.initialDirectory,!0)}function y(e){return{position:"fixed",left:e.clientX+Ae+"px",top:e.clientY+Fe+"px","margin-left":0,"margin-top":0}}function v(e,t){C(e.clientX+Ae,t)&&t.css("margin-left",-(t.width()+Re)),E(e.clientY+Fe,t)&&t.css("margin-top",-(t.height()+Re))}function S(){s(".context-catcher-tr").contextmenu(function(e){var t=s(this),n=t.find(".dropdown-menu").first(),o=t.data("index");return Pe=d.getSelectedItems().indexOf(o)!=-1,n.css(y(e)),s(this).find(".context-catcher-button").dropdown("toggle"),v(e,n),["DIV","TR","TD"].indexOf(e.target.tagName)==-1&&d.selectItem(o),!1});var e=s(".file-toolbar");e.on("shown.bs.dropdown",function(){var e=s(this).find(".dropdown-menu");we=e;var t=e.parent().removeClass("dropup");"fixed"!=e.css("position")&&e.offset().top+e.outerHeight()>s(window).height()-s("#footer").height()&&t.addClass("dropup")}),e.on("hidden.bs.dropdown",function(){s(this).find(".dropdown-menu").attr("style",null),we=null})}function C(e,t){return e+t.width()>s(window).width()}function E(e,t){return e+t.height()>s(window).height()}function T(){e.directoryList=Te.sortDirectoryList(e.directoryList,Te.sortName,Te.sortReversed)}function A(e){Te.sortReversed=e==Te.sortName&&!Te.sortReversed,Te.sortName=e,Te.doReorder()}function F(e,t,n){var o=null;switch(t){case"name":o="sortByName";break;case"modified":o="sortByModificationDate";break;case"size":o="sortBySize";break;case"type":o="sortByType"}return null==o?e:u[o](e,n)}function R(n,i,s){e.directoryList=Te.sortDirectoryList(i.data.data,Te.sortName,Te.sortReversed),o.currentDirectory=n,d.clearSelection(),s&&(e.isHistoryChangeDir||a.addEntry(o.currentDirectory),e.isHistoryChangeDir=!1,t.$broadcast("directory-changed",n),r.initialDirectory=n,r.saveSettings()),c(function(){Te.setupContextMenuEvents()})}function b(e,i,r){h.getApplicationSettings().then(function(){var a;a=r?function(){}:function(e){i?n.getDefaultPath().then(function(e){Te.changeDirectory(e.data.data)},function(){showResponseError(e,"DIRECTORY_CHANGE_OPERATION",t,l)}):showResponseError(e,"DIRECTORY_CHANGE_OPERATION",t,l)},n.listDirectory(e,h.getConfigurationItem("showDotFiles")).then(function(t){Te.directoryListSuccess(e,t,e!=o.currentDirectory)},a)},function(e){showResponseError(e,"APPLICATION_SETTINGS_LOAD_OPERATION",t,l)})}function I(){Te.changeDirectory(o.currentDirectory)}function w(e){if(responseIsUnsuccessful(e))return void showResponseError(e,"DOWNLOAD_OPERATION",t,l);var n=e.data.fileKey;i.location="application/api/download.php?fileKey="+n}function P(e){showResponseError(e,"DOWNLOAD_OPERATION",t,l),t.$broadcast("modal-prompt:clear-busy")}function _(e){n.fetchFile(e).then(w,P)}function D(){var t=d.getSelectedItems(),i=[];t.map(function(t){i.push(e.directoryList[t].name)}),n.downloadMultipleFiles(o.currentDirectory,i).then(w,P)}function x(){var t=o.joinNameToCurrentDirectory(e.directoryList[d.getSelectedItems()[0]].name);Te.downloadFileAtPath(t)}function L(){var t=d.getSelectedItems();t.length>1||e.directoryList[t[0]].isDirectory?Te.downloadMultiple():Te.downloadSingle()}function M(){var t=d.getSelectedItems().slice();return t.sort(function(e,t){return e-t}),t.map(function(t){return o.joinNameToCurrentDirectory(e.directoryList[t].name)})}function O(e){0!=e.length&&o.setCopySource(e)}function $(e){0!=e.length&&o.setCutSource(e)}function N(){Te.initiateCutOfPaths(Te.getSelectedPaths())}function q(){Te.initiateCopyOfPaths(Te.getSelectedPaths())}function B(){l("EXISTING_FILE_SUFFIX").then(function(e){U(e)},function(){U("Copy")})}function U(e){if(null!=o.cutSource||null!=o.copySource){var i,r;null!=o.cutSource?(i=o.cutSource,r="rename"):(i=o.copySource,r="copy");for(var a=0;a<i.length;++a){var s=i[a];if(isSubPath(s,o.currentDirectory))return void t.$broadcast("modal-error:show","PASTE_TO_SUB_DIRECTORY_ERROR");var c=s.split("/"),u=Ce(c[c.length-1],e),d=o.joinNameToCurrentDirectory(u);n[r](s,d).then(function(){o.pasteComplete(),Te.changeDirectory(o.currentDirectory),"rename"==r&&t.$broadcast("items-moved",[[s,d]])},function(e){showResponseError(e,"FILE_PASTE_OPERATION",t,l)})}}}function k(){var n=[].concat(e.directoriesToDelete||[],e.filesToDelete||[]);t.$broadcast("items-deleted",n),e.directoriesToDelete=null,e.filesToDelete=null,Te.changeDirectory(o.currentDirectory)}function j(){var i=[];null!=e.filesToDelete&&e.filesToDelete.map(function(e){o.isCutOrCopySource(e)&&o.clearCutAndCopySource(),i.push([e,!1])}),null!=e.directoriesToDelete&&e.directoriesToDelete.map(function(e){o.isCutOrCopySource(e)&&o.clearCutAndCopySource(),i.push([e,!0])}),n.deleteMultiple(i).then(function(){Te.deleteComplete()},function(e){showResponseError(e,"DELETE_ITEM_OPERATION",t,l),Te.deleteComplete()})}function H(){e.filesToDelete=null,e.directoriesToDelete=null}function G(e){t.$broadcast("modal-confirm:show",e,Te.confirmDelete,Te.cancelDelete)}function z(e){l("DELETE_CONFIRM_MESSAGE",{item_count:e.length}).then(function(e){G(e)},function(e){G(e)})}function V(){var t=d.getSelectedItems();if(0!=t.length){var n=[];e.directoriesToDelete=[],e.filesToDelete=[];for(var i=0;i<t.length;++i){var r=t[i],a=e.directoryList[r];n.push(a.name);var s=o.joinNameToCurrentDirectory(a.name);a.isDirectory?e.directoriesToDelete.push(s):e.filesToDelete.push(s)}Te.showDeleteConfirm(n)}}function Q(){Te.newItemPath=null,e.makeItemType=null}function X(){if(t.$broadcast("modal-prompt:hide"),Te.refreshDirectoryList(),e.makeItemType==_e)return void Q();h.getApplicationSettings().then(function(){if(h.getConfigurationItem("editNewFilesImmediately")&&Te.itemIsEditable(!1,Te.newItemPath)){var e=Te.newItemPath.split("/");t.$broadcast("file-editor:edit",e[e.length-1],Te.newItemPath)}Q()},function(e){Q(),showResponseError(e,"RENAME_OPERATION",t,l)})}function K(e,n){t.$broadcast("modal-prompt:clear-busy"),l(["NEW_ITEM_FAILURE_PRECEDING_MESSAGE",e],n).then(function(t){ne(t.NEW_ITEM_FAILURE_PRECEDING_MESSAGE+" "+t[e])})}function W(e){return validateFileNameNonEmpty(e)?validateFileNameContainsNoSlash(e)?null:"FILE_NAME_CONTAINS_SLASH_MESSAGE":"FILE_NAME_EMPTY_MESSAGE"}function Y(e,t){l(e,t).then(ne,ne)}function J(i){t.$broadcast("modal-prompt:clear-error");var r=W(i);if(null!=r)return void l(e.makeItemType).then(function(e){Y(r,{item_type:e.toLowerCase()})},function(){Y(r,{item_type:e.makeItemType.toLowerCase()})});Te.newItemPath=o.joinNameToCurrentDirectory(i),t.$broadcast("modal-prompt:set-busy","CREATING_ACTIVITY_STATUS");var a;e.makeItemType==_e?a=n.makeDirectory(Te.newItemPath):e.makeItemType==De&&(a=n.putFileContents(Te.newItemPath,"")),a.then(function(){Te.makeItemSuccessCallback()},function(t){var n=e.makeItemType.toUpperCase()+"_MAKE_OPERATION",o=function(n){Te.makeItemFailureCallback(parseErrorResponse(t,n),{item_type:e.makeItemType,action:n})};l(n).then(function(e){o(e)},function(){o(n)})})}function Z(e){l(["NEW_ITEM_PROMPT_TITLE","NEW_ITEM_NAME_PLACEHOLDER"],{item_type:e}).then(function(e){t.$broadcast("modal-prompt:show",e.NEW_ITEM_PROMPT_TITLE,"",e.NEW_ITEM_NAME_PLACEHOLDER,Te.makeItemOKCallback)})}function ee(t){e.makeItemType=t,l(t).then(function(e){Z(e)},function(){Z(e.makeItemType.toLowerCase().capitalizeFirstLetter())})}function te(){if(0!=e.selectedItems.length){var n=[],i=-1;e.selectedItems.map(function(t){var r=e.directoryList[t];n.push(o.joinNameToCurrentDirectory(r.name)),i==-1?i=r.numericPermissions:r.numericPermissions!=i&&(i=0)}),t.$broadcast("modal-permissions:show",n,i)}}function ne(e){t.$broadcast("modal-prompt:set-error",e)}function oe(e,i){if(t.$broadcast("modal-prompt:clear-error"),i!=e){var r=W(e);if(null!=r)return void Y(r,{item_type:"item"});t.$broadcast("modal-prompt:set-busy","RENAMING_ACTIVITY_STATUS");var a=o.joinNameToCurrentDirectory(i),s=o.joinNameToCurrentDirectory(e);n.rename(a,s).then(function(e){if(t.$broadcast("modal-prompt:clear-busy"),responseIsUnsuccessful(e))return void showResponseError(e,"RENAME_OPERATION",t,l);Te.refreshDirectoryList(),t.$broadcast("items-moved",[[a,s]]),
t.$broadcast("modal-prompt:hide")},function(e){t.$broadcast("modal-prompt:clear-busy"),showResponseError(e,"RENAME_OPERATION",t,l)}),Te.renameSource=null}}function ie(e){t.$broadcast("modal-prompt:show",e.RENAME_FILE_PROMPT_TITLE,Te.renameSource,e.RENAME_FILE_NAME_PLACEHOLDER,Te.fileRenameCallback)}function re(){l(["RENAME_FILE_PROMPT_TITLE","RENAME_FILE_NAME_PLACEHOLDER"]).then(ie,ie)}function ae(e,t){e!=o.currentDirectory&&(void 0!==e&&null!=e||(e=o.currentDirectory),Te.changeDirectory(e,!1,t))}function se(){o.currentDirectory=null,r.initialDirectory=null,e.directoryList=[],a.clearHistory()}function ce(e){Te.systemVars=e,Te.setEditableExtensions(f.getApplicationSetting("editableFileExtensions")),m.isLicensed()&&(Te.enableChmod=!f.getApplicationSetting("disableChmod"),Te.enableFileView=!f.getApplicationSetting("disableFileView"),Te.enableFileEdit=Te.enableFileView&&!f.getApplicationSetting("disableFileEdit"),Te.contextMenuItemDisplay=f.getApplicationSetting("contextMenuItemDisplay")||{}),g()}function ue(e){showResponseError(e,"SYSTEM_VAR_LOAD_OPERATION",t,l)}function le(e){var t=e.split(",");Ie=[];for(var n=0;n<t.length;++n){var o=t[n].trim().toLowerCase();""!=o&&Ie.push(o)}}function de(e,t){if(!m.isLicensed())return!1;if(e)return!1;var n=t.split("/"),o=n[n.length-1],i=extractFileExtension(o);return""==i||Ie.indexOf(i)!=-1}function fe(){Te.changeDirectory(parentPath(o.currentDirectory),!1)}function he(e){t.$broadcast("modal-properties:show",e)}function pe(t){if(3==t.which&&"files"==t.target.id){e.hasPasteSource=null!=o.cutSource||null!=o.copySource,we&&we.dropdown("toggle"),s("#extras-dropdown-button").dropdown("toggle");var n=s("#extras-dropdown");return n.css(y(t)),v(t,n),!1}}function me(e){p.mouseDown(e)}function ge(e,t){p.mouseMove(e,t)}function ye(e){p.mouseUp(e,Pe),Pe=!1}function ve(e){p.mouseLeave(e)}function Se(t){for(var n=0;n<e.directoryList.length;++n)if(e.directoryList[n].name==t)return!0;return!1}function Ce(e,t){var n=e;if(!Se(n))return n;var o=splitFileExtension(n);if(n=o[0]+" - "+t+o[1],!Se(n))return n;for(var i=2;;++i){var r=o[0]+" - "+t+" "+i+o[1];if(!Se(r))return r}}function Ee(e){return!!Te.contextMenuItemDisplay.hasOwnProperty(e)&&Te.contextMenuItemDisplay[e]===!1}var Te=this,Ae=7,Fe=14,Re=20,be=!1,Ie=[],we=null,Pe=!1,_e="FOLDER",De="FILE";e.directoryList=[],e.selectedItems=d.getSelectedItems(),e.directoriesToDelete=null,e.filesToDelete=null,e.isHistoryChangeDir=!1,Te.sortName="name",Te.sortReversed=!1,Te.renameSource=null,Te.rowDragStartIndex=null,Te.isMetaDrag=!1,Te.previousDragOverIndex=null,Te.uiOperationFactory=o,Te.systemVars=null,Te.enableChmod=!0,Te.enableFileView=!0,Te.enableFileEdit=!0,Te.contextMenuItemDisplay={},Te.didLogout=se,Te.doReorder=T,Te.cancelDelete=H,Te.performPaste=B,Te.confirmDelete=j,Te.deleteComplete=k,Te.downloadSingle=x,Te.initiateRename=re,Te.changeDirectory=b,Te.downloadMultiple=D,Te.getSelectedPaths=M,Te.initiateMakeItem=ee,Te.showDeleteConfirm=z,Te.sortDirectoryList=F,Te.downloadFileAtPath=_,Te.fileRenameCallback=oe,Te.initiateCutOfPaths=$,Te.makeItemOKCallback=J,Te.handleReorderChange=A,Te.initiateCopyOfPaths=O,Te.directoryListSuccess=R,Te.refreshDirectoryList=I,Te.downloadSelectedFiles=L,Te.handleChangeDirectory=ae,Te.makeItemSuccessCallback=X,Te.makeItemFailureCallback=K,Te.setupContextMenuEvents=S,Te.initiateCutOfSelectedPaths=N,Te.initiateCopyOfSelectedPaths=q,Te.initiateChmodOfSelectedItems=te,Te.initiateDeleteOfSelectedPaths=V,Te.rowMouseDown=me,Te.rowMouseMove=ge,Te.rowMouseUp=ye,Te.rowMouseLeave=ve,Te.setEditableExtensions=le,Te.itemIsEditable=de,Te.navigateUpOneLevel=fe,Te.showProperties=he,Te.handleBodyClick=pe,Te.getPasteName=Ce,Te.contextMenuItemHidden=Ee,e.editItem=function(e){var n=o.joinNameToCurrentDirectory(e.name);t.$broadcast("file-editor:edit",e.name,n)},e.initiateRenameOfItem=function(e){Te.renameSource=e.name,Te.initiateRename()},e.$on("change-directory:on-history",function(t,n){e.isHistoryChangeDir=!0,Te.handleChangeDirectory(n)}),e.$on("change-directory",function(t,n){e.isHistoryChangeDir=!1,Te.handleChangeDirectory(n)}),e.$on("change-directory:on-upload",function(){Te.handleChangeDirectory(null,!0)}),e.handleClick=function(e,t){if(!(e.ctrlKey||e.metaKey||e.shiftKey)){e.stopPropagation();var n=this.item;if(n.isDirectory){var i=o.joinNameToCurrentDirectory(n.name);Te.changeDirectory(i)}else s(e.target.parentNode.parentNode).find(".context-catcher-button").dropdown("toggle"),d.selectItem(t)}},e.$on("footer-button-click",function(e,t){switch(t){case"download":Te.downloadSelectedFiles();break;case"cut":Te.initiateCutOfSelectedPaths();break;case"copy":Te.initiateCopyOfSelectedPaths();break;case"paste":Te.performPaste();break;case"delete":Te.initiateDeleteOfSelectedPaths();break;case"new-folder":Te.initiateMakeItem("FOLDER");break;case"new-file":Te.initiateMakeItem("FILE");break;case"chmod":Te.initiateChmodOfSelectedItems()}}),e.$on("license-loaded",function(){f.getSystemConfiguration().then(ce,ue)}),e.$on("login",function(){be=!0,g()}),e.$on("selected-items-changed",function(){e.selectedItems=d.getSelectedItems()}),e.$on("logout",function(){Te.didLogout()}),e.$on("configuration:key-changed",function(e,t,n){"editableFileExtensions"==t&&Te.setEditableExtensions(n)})}angular.module("MonstaFTP").controller("FileBrowserController",e),e.$inject=["$scope","$rootScope","connectionFactory","uiOperationFactory","$window","authenticationFactory","historyFactory","jQuery","$timeout","directorySortingFactory","$translate","selectedItemsFactory","configurationFactory","localConfigurationFactory","rowMouseTrackerFactory","licenseFactory"]}(),function(){function e(){return{replace:!0,scope:{sortIdentifier:"&",sortName:"&",vm:"="},template:'<span ng-click="vm.handleReorderChange(sortIdentifier)" data-sort-dir="">{{ sortName|translate }}<i ng-show="vm.sortName == sortIdentifier" class="fa" ng-class="{\'fa-caret-up\': !vm.sortReversed, \'fa-caret-down\': vm.sortReversed}" aria-hidden="true"></i></span>',restrict:"E",link:function(e,t,n){e.sortName=n.sortName,e.sortIdentifier=n.sortIdentifier}}}angular.module("MonstaFTP").directive("monstaReorder",e)}(),function(){function e(){return{replace:!0,scope:{sortIdentifier:"&",sortName:"&",vm:"="},template:'<li><a href="#" ng-click="vm.handleReorderChange(sortIdentifier)" data-sort-dir="" translate>{{ sortName }}</a></li>',restrict:"E",link:function(e,t,n){e.sortName=n.sortName,e.sortIdentifier=n.sortIdentifier}}}angular.module("MonstaFTP").directive("monstaReorderMobile",e)}(),function(){function e(e){function t(e){l=!0,c=e,d=!1}function n(e,t){!l||d||t||u.mouseClick(c,e),l=!1,h=null}function o(e,t){if(l){if(d=!0,h==t)return;null==h?u.startDrag(e,t):u.mouseDrag(t),h=t}}function i(e){if(f.indexOf(e.target.tagName)!=-1)return!0;h=null}function r(t){p?e.metaDraggedToIndex(t):e.draggedToIndex(t)}function a(t,n){if(f.indexOf(t.target.tagName)==-1)return!0;t.preventDefault(),t.ctrlKey||t.metaKey?e.metaClickAtIndex(n):t.shiftKey?e.shiftClickAtIndex(n):"SPAN"!=t.target.tagName&&e.standardClickAtIndex(n)}function s(t,n){t.metaKey||t.ctrlKey?(p=!0,e.startMetaDraggingAtIndex(n)):(p=!1,e.startDraggingAtIndex(n))}var c,u={},l=!1,d=!1,f=["DIV","TR","TD","SPAN"],h=null,p=!1;return u.mouseDown=t,u.mouseUp=n,u.mouseMove=o,u.mouseLeave=i,u.mouseClick=a,u.mouseDrag=r,u.startDrag=s,u}angular.module("MonstaFTP").factory("rowMouseTrackerFactory",e),e.$inject=["selectedItemsFactory"]}(),function(){function e(e){function t(e,t){if(e==t)return[e];var n=1;e>t&&(n=-1);var o=[e];do{e+=n,o.push(e)}while(e!=t);return o}function n(){return p}function o(e){if(1==p.length&&p[0]==e)return p=[],void f();(p.indexOf(e)==-1||p.length>1)&&(p=[e],m=e,f())}function i(e){1==p.length&&p.indexOf(e)!=-1||(p=t(m,e),f())}function r(e){var t=p.indexOf(e);t==-1?p.push(e):p.splice(t,1),f()}function a(){p=[],f()}function s(e){a(),g=e,p=[e],f()}function c(e){p=t(g,e),f()}function u(e){y=e,h=angular.copy(p)}function l(e){for(var t=angular.copy(h),n=Math.min(e,y),o=Math.max(e,y);n<=o;++n)h.indexOf(n)==-1?t.push(n):t.splice(t.indexOf(n),1);p=t,f()}function d(e){p=[e],f()}function f(){e.$broadcast("selected-items-changed")}var h,p=[],m=0,g=0,y=0;return{getSelectedItems:n,standardClickAtIndex:o,shiftClickAtIndex:i,metaClickAtIndex:r,clearSelection:a,startDraggingAtIndex:s,draggedToIndex:c,startMetaDraggingAtIndex:u,metaDraggedToIndex:l,selectItem:d}}angular.module("MonstaFTP").factory("selectedItemsFactory",e),e.$inject=["$rootScope"]}(),function(){function e(e,t,n,o,i,r,a,s,c){"use strict";function u(){e.editorFiles=[],e.activeFile=null}function l(){t.$broadcast("file-editor:will-show"),O.hideProUpgradeMessages=c.getApplicationSetting("hideProUpgradeMessages"),O.savedDirectories=[],o(M).modal("show")}function d(){q&&P(),O.savedDirectories.indexOf(s.currentDirectory)!=-1&&t.$broadcast("change-directory"),null!=N&&N.removeClass("open"),t.$broadcast("file-editor:hide",e.editorFiles.length),o(M).modal("hide")}function f(t,n){var o=r.convertFilenameToMode(t);window.setTimeout(function(){var t=O.getEditorFileByPath(n);if(null!=t&&1!=t.cmSetup){var i="editor_ta_"+n;r.initiateCodeMirror(o,document.getElementById(i),function(n){t.cmSetup=!0,t.cm=n,n.on("change",function(n){t.contents=n.getValue(),e.textChange(t.path)})})}},0)}function h(t,n){i.isLicensed()&&O.ensureFileInScope(t,n,function(){e.activeFile=O.getEditorFileByPath(n),O.setupAdvancedEditor(t,n)})}function p(t,n,o){if(O.filePathIsInScope(n))return o&&o(),!0;var r={name:t,path:n,contents:null,dirty:!1,saving:!1,cmSetup:!1,cm:null};return i.isLicensed()?(e.editorFiles.push(r),e.editorFiles.sort(function(e,t){return e.path.toLowerCase()<t.path.toLowerCase()?-1:1})):e.editorFiles=[r],O.loadFileContents(n,o),!1}function m(t){for(var n=0;n<e.editorFiles.length;++n)if(e.editorFiles[n].path==t)return n;return null}function g(e){return null!=O.getFileIndexByPath(e)}function y(t){var n=O.getFileIndexByPath(t);return null==n?null:e.editorFiles[n]}function v(e,t){var n=O.getEditorFileByPath(e);null!=n&&(n.contents=t)}function S(e,o){null!=O.getEditorFileByPath(e)&&n.getFileContents(e).then(function(t){O.updateFileContents(e,b64DecodeUnicode(t.data.data)),o&&o()},function(e){showResponseError(e,"FILE_LOAD_OPERATION",t,a)})}function C(t){var n=O.getFileIndexByPath(t);if(null!=n){var o=e.editorFiles.splice(n,1);if(o.length&&o[0].cm&&(o[0].cm.toTextArea(),o[0].cm=null),0==e.editorFiles.length)return e.activeFile=null,void O.hide();var i=Math.min(n,e.editorFiles.length-1);e.activeFile=e.editorFiles[i]}}function E(e){t.$broadcast("modal-confirm:show",e,O.confirmTabClose,O.cancelTabClose)}function T(t,n){e.pathOfTabToRemove=n,a("EDITOR_CLOSE_CONFIRM_MESSAGE",{file_name:t}).then(E,E)}function A(){O.removeFile(e.pathOfTabToRemove),e.pathOfTabToRemove=null}function F(){e.pathOfTabToRemove=null}function R(e,t){var n=O.getEditorFileByPath(e);if(null!=n&&(n.saving=!1,t)){n.dirty=!1;var o=e.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"");""==o&&(o="/"),O.savedDirectories.indexOf(o)==-1&&O.savedDirectories.push(o)}}function b(){$&&window.clearTimeout($),e.settings.autoSave&&O.allowEdit&&($=window.setTimeout(function(){$=null,e.saveActiveFile(!0)},3e3))}function I(e){null!=N&&N.hasClass("open")&&!e.target.classList.contains("close")&&(N.removeClass("open"),P())}function w(){window.addEventListener("click",I),q=!0}function P(){window.removeEventListener("click",I),q=!1}function _(e){return null==N&&(N=o(e.target).parent(),"I"==e.target.tagName&&(N=N.parent())),L=!N.hasClass("open"),e.preventDefault(),N.toggleClass("open"),window.setTimeout(function(){L?w():P()},0),!1}function D(){return O.hideProUpgradeMessages!==!0&&!i.isLicensed()}function x(t){for(var n=[],o=0;o<t.length;++o){var i=t[o];if(0!=i.length)for(var r="/"==i.substr(i.length-1)?i:i+"/",a=0;a<e.editorFiles.length;++a){var s=e.editorFiles[a];if(i==s.path)n.push(s.path);else{if(s.path.length<=r.length)continue;s.path.substr(0,r.length)==r&&n.push(s.path)}}}for(var c=0;c<n.length;++c)O.removeFile(n[c],!0)}e.editorFiles=[],e.activeFile=null,e.pathOfTabToRemove=null,e.licenseFactory=i,e.settings={autoSave:!1};var L,M="#modal-editor",O=this,$=null,N=null,q=!1;O.savedDirectories=[],O.hideProUpgradeMessages=!1,O.allowEdit=!0,O.show=l,O.hide=d,O.setupAdvancedEditor=f,O.startEditingFile=h,O.ensureFileInScope=p,O.getFileIndexByPath=m,O.filePathIsInScope=g,O.getEditorFileByPath=y,O.updateFileContents=v,O.loadFileContents=S,O.removeFile=C,O.initiateConfirmTabClose=T,O.confirmTabClose=A,O.cancelTabClose=F,O.contentPutFinish=R,O.beginAutoSave=b,O.fileListClick=_,O.shouldShowProUpgrade=D,O.itemsMoved=x,e.activateTab=function(t,n){"BUTTON"!=n.target.tagName&&(e.activeFile=O.getEditorFileByPath(t),null!=N&&N.removeClass("open"),q&&P())},e.closeTabForFile=function(e,t){return O.getEditorFileByPath(t).dirty?(O.initiateConfirmTabClose(e,t),!1):(O.removeFile(t),!1)},e.textChange=function(t){var n=O.getEditorFileByPath(t);if(null!=n){var o=n.dirty;n.dirty=!0,o||window.setTimeout(function(){e.$apply()}),O.beginAutoSave.call(O)}},e.saveActiveFile=function(o){if(null!=e.activeFile){e.activeFile.saving=!0;var i=e.activeFile.path,r=e.activeFile.contents,s=c.getApplicationSetting("encodeEditorSaves");n.putFileContents(i,r,o,s).then(function(){O.contentPutFinish(i,!0)},function(e){O.contentPutFinish(i,!1),showResponseError(e,"FILE_SAVE_OPERATION",t,a)})}},e.$on("file-editor:edit",function(e,t,n){i.isLicensed()&&(O.allowEdit=!c.getApplicationSetting("disableFileEdit"),r.readOnly=c.getApplicationSetting("disableFileEdit")),O.startEditingFile(t,n),O.show()}),e.$on("file-editor:show",function(){O.show()}),e.$on("logout",function(){u()}),e.$on("login",function(){u()}),e.$on("items-deleted",function(e,t){O.itemsMoved(t)}),e.$on("items-moved",function(e,t){for(var n=[],o=0;o<t.length;++o)n.push(t[o][0]);O.itemsMoved(n)})}angular.module("MonstaFTP").controller("FileEditorController",e),e.$inject=["$scope","$rootScope","connectionFactory","jQuery","licenseFactory","codeMirrorFactory","$translate","uiOperationFactory","configurationFactory"]}(),FileTransferStats.prototype.wasStarted=function(){this.previousSampleTime=Date.now(),this.completedBytes=0,this.previousCompletedBytes=0},FileTransferStats.prototype.updateTransferAmount=function(e){var t=e==this.totalBytes;return!(!t&&Date.now()-this.previousSampleTime<200||e<this.completedBytes||!t&&e-this.completedBytes<=8192||(this.previousCompletedBytes=this.completedBytes,this.completedBytes=e,this.addTransferRate(),0))},FileTransferStats.prototype.addTransferRate=function(){10==this._transferRateSamples.length&&this._transferRateSamples.splice(0,1),this._transferRateSamples.push(this.getInstantaneousTransferRate())},FileTransferStats.prototype.calculateTransferRate=function(){if(0==this._transferRateSamples.length)return 0;var e=0;return this._transferRateSamples.map(function(t){e+=t}),e/this._transferRateSamples.length},FileTransferStats.prototype.getInstantaneousTransferRate=function(){var e=Date.now()-this.previousSampleTime;return this.previousSampleTime=Date.now(),(this.completedBytes-this.previousCompletedBytes)/(e/1e3)},FileTransferStats.prototype.getTransferPercent=function(){return 0==this.totalBytes||null==this.totalBytes||null==this.completedBytes?0:100*this.completedBytes/this.totalBytes},FileTransferStats.prototype.complete=function(){this.completedBytes=this.totalBytes},FileTransferStats.prototype.hasBeenStarted=function(){return this.previousSampleTime!=-1},function(){function e(e,t,n,o,i,r,a,s,c,u){function l(){w.value=null,w.click()}function d(){if(this.files&&this.files.length){var e=this.items;R.isArchiveUpload&&!T(this.files)||(void 0!=e?r.handleItemsBasedUpload(e,!!R.isArchiveUpload&&null):r.handleFilesBasedUpload(this.files,!!R.isArchiveUpload&&null))}}function f(e){t.$broadcast("modal-error:show",e)}function h(){if(null===I){var e=document.createElement("input");I="webkitdirectory"in e||"mozdirectory"in e||"odirectory"in e||"msdirectory"in e||"directory"in e}return I}function p(){if(!h())return void a("FOLDER_UPLOAD_NOT_SUPPORTED_MESSAGE").then(f,f);P.value=null,P.click()}function m(t){return"show-editor"==t?e.editorActive:"paste"==t?e.hasPasteSource:b.indexOf(t)==-1||0!=e.selectedItemsCount}function g(e){a("FETCHING_ACTIVITY_STATUS").then(function(e){t.$broadcast("modal-prompt:set-busy",e)}),o.fetchRemoteFile(e,n.currentDirectory).then(function(e){if(responseIsUnsuccessful(e))return void showResponseError(e,"REMOTE_FILE_FETCH_OPERATION",t,a);t.$broadcast("change-directory"),t.$broadcast("modal-prompt:hide")},function(e){showResponseError(e,"REMOTE_FILE_FETCH_OPERATION",t,a),t.$broadcast("modal-prompt:clear-busy")})}function y(e){t.$broadcast("modal-prompt:set-error",e)}function v(e){if(t.$broadcast("modal-prompt:clear-error"),!basicURLValidate(e))return void a("URL_INVALID_MESSAGE").then(y,y);var n=e.replace(/^\s\s*/,"");R.performRemoteFetch.call(R,n)}function S(){a(["FETCH_FILE_PROMPT_TITLE","FETCH_FILE_URL_PLACEHOLDER"]).then(function(e){t.$broadcast("modal-prompt:show",e.FETCH_FILE_PROMPT_TITLE,null,e.FETCH_FILE_URL_PLACEHOLDER,R.remoteFetchCallback)})}function C(t){e.editorActive=0!=t}function E(){t.$broadcast("file-editor:show")}function T(e){var n=null;return 1!=e.length?n="MULTIPLE_FILE_ARCHIVE_ERROR":isArchiveFilename(e[0].name)||(n="INVALID_TYPE_ARCHIVE_ERROR"),null==n||(t.$broadcast("modal-error:show",n),!1)}function A(e){if(R.isLoggedIn){if("upload-file"==e)return R.isArchiveUpload=!1,void R.handleUpload();if("upload-folder"==e)return R.isArchiveUpload=!1,void R.handleUploadFolder();if("upload-archive"==e)return R.isArchiveUpload=!0,void R.handleUpload();if("fetch-file"==e)return void R.initiateRemoteFetch();if("show-editor"==e){if(!R.allowAction(e))return;return void R.showEditor()}R.allowAction(e)&&t.$broadcast("footer-button-click",e)}}function F(e){return!!R.itemDisplay.hasOwnProperty(e)&&R.itemDisplay[e]===!1}var R=this,b=["chmod","cut","copy","download"],I=null;R.isArchiveUpload=!1,e.selectedItemsCount=0,e.hasPasteSource=!1,e.maxUploadBytes=MAX_UPLOAD_BYTES,e.currentUsername=null,e.currentHost=null,e.currentVersion=0,e.newVersionAvailable=!1,e.editorActive=!1,R.enableChmod=!0,R.enableFileView=u.isLicensed(),R.enableFileEdit=u.isLicensed(),R.showRemoteServerAddress=!0,R.isLicensed=!1,R.isLoggedIn=!1,R.FEATURE_EXTRACT_UPLOAD=FEATURE_EXTRACT_UPLOAD,R.itemDisplay={},R.handleUpload=l,R.handleUploadFolder=p,R.allowAction=m,R.performRemoteFetch=g,R.remoteFetchCallback=v,R.initiateRemoteFetch=S,R.onEditorHide=C,R.showEditor=E,R.validateArchiveUpload=T,R.buttonClick=A,R.itemHidden=F;var w=document.getElementById("upload-placeholder"),P=document.getElementById("upload-folder-placeholder");w&&(w.addEventListener("change",d),P.addEventListener("change",d)),e.$on("selected-items-changed",function(){e.selectedItemsCount=s.getSelectedItems().length}),e.$on("paste-source:set",function(){e.hasPasteSource=!0}),e.$on("paste-source:cleared",function(){e.hasPasteSource=!1}),e.$on("license-loaded",function(){R.isLicensed=u.isLicensed(),c.getSystemConfiguration().then(function(){R.isLicensed&&(R.enableChmod=!c.getApplicationSetting("disableChmod"),R.enableFileView=!c.getApplicationSetting("disableFileView"),R.enableFileEdit=R.enableFileView&&!c.getApplicationSetting("disableFileEdit"),R.showRemoteServerAddress=!c.getApplicationSetting("disableRemoteServerAddressDisplay"),R.itemDisplay=c.getApplicationSetting("footerItemDisplay")||{})},function(e){})}),e.$on("login",function(){var t=i.getActiveConfiguration();e.currentUsername=t.username||null,e.currentHost=t.host||null,e.editorActive=!1,R.isLoggedIn=!0}),e.$on("logout",function(){e.currentUsername=null,e.currentHost=null,e.editorActive=!1,R.isLoggedIn=!1}),e.$on("file-editor:hide",function(e,t){R.onEditorHide(t)}),c.getSystemConfiguration().then(function(t){MAX_UPLOAD_BYTES=t.maxFileUpload,e.maxUploadBytes=MAX_UPLOAD_BYTES,e.currentVersion=t.version,e.currentVersion&&window.MONSTA_LATEST_VERSION&&(e.newVersionAvailable=versionIsLessThan(e.currentVersion,window.MONSTA_LATEST_VERSION))},function(e){})}angular.module("MonstaFTP").controller("FooterController",e),e.$inject=["$scope","$rootScope","uiOperationFactory","connectionFactory","authenticationFactory","uploadUIFactory","$translate","selectedItemsFactory","configurationFactory","licenseFactory"]}(),function(){function e(){return{replace:!0,scope:{iconClass:"&",itemTitle:"&",activeCondition:"<?",identifier:"&",vm:"=",hideCondition:"<?"},template:'<button class="fa fa-fw {{ iconClass }} {{ (activeCondition && vm.isLoggedIn) ? \'active\' : \'inactive\' }}" title="{{ buttonTitle|translate }}" ng-click="vm.buttonClick(buttonIdentifier)" ng-hide="hideCondition"></button>',restrict:"E",link:function(e,t,n){e.iconClass=n.iconClass,e.buttonTitle=n.itemTitle,void 0==n.activeCondition&&(e.activeCondition=!0),e.buttonIdentifier=n.identifier,void 0==n.hideCondition?e.hideCondition=!1:e.hideCondition=n.hideCondition,e.$watch("vm.itemDisplay",function(t,n){e.vm.itemHidden(e.buttonIdentifier)&&(e.hideCondition=!0)})}}}angular.module("MonstaFTP").directive("monstaFooterButton",e)}(),function(){function e(){return{replace:!0,scope:{iconClass:"&",itemTitle:"&",activeCondition:"<?",identifier:"&",vm:"=",hideCondition:"<?"},template:'<li class="{{ (activeCondition && vm.isLoggedIn) ? \'active\' : \'inactive\'}}" data-name="{{ buttonIdentifier }}" ng-click="vm.buttonClick(buttonIdentifier)" ng-hide="hideCondition"><a href="#"><i class="fa fa-fw {{ iconClass }}"></i> {{ buttonTitle|translate }} </a></li>',restrict:"E",link:function(e,t,n){e.iconClass=n.iconClass,e.buttonTitle=n.itemTitle,void 0==n.activeCondition&&(e.activeCondition=!0),e.buttonIdentifier=n.identifier,void 0==n.hideCondition&&(e.hideCondition=!1),e.$watch("vm.itemDisplay",function(t,n){e.vm.itemHidden(e.buttonIdentifier)&&(e.hideCondition=!0)})}}}angular.module("MonstaFTP").directive("monstaFooterMenuItem",e)}(),function(){function e(e,t,n){e.canGoBack=!1,e.canGoForward=!1;var o=function(){e.canGoBack=n.hasPreviousHistoryItem(),e.canGoForward=n.hasNextHistoryItem()};e.$on("history-changed",function(){o()}),e.$on("directory-changed",function(){o()}),e.navigateBack=function(){if(e.canGoBack){var o=n.navigateBack();o&&t.$broadcast("change-directory:on-history",o)}},e.navigateForward=function(){if(e.canGoForward){var o=n.navigateForward();o&&t.$broadcast("change-directory:on-history",o)}},e.refresh=function(){t.$broadcast("change-directory")}}angular.module("MonstaFTP").controller("HeaderController",e),e.$inject=["$scope","$rootScope","historyFactory"]}(),function(){function e(e,t,n){function o(){var e=t.getUniqueHistory();i.sortedHistory=e.sort()}e.history=[];var i=this;i.sortedHistory=[],e.$on("directory-changed",function(){o()}),e.$on("history-changed",function(){o()}),e.historyClick=function(e){n.$broadcast("change-directory",e)},e.$on("items-deleted",function(e,n){n.map(function(e){t.removeEntry(e)})})}angular.module("MonstaFTP").controller("HistoryController",e),e.$inject=["$scope","historyFactory","$rootScope"]}(),function(){function e(e){var t=function(e){return e+("/"!=e.substr(e.length-1)?"/":"")};return{_fullHistory:[],_historyIndex:-1,getFullHistory:function(){return this._fullHistory},getFullHistoryCount:function(){return this._fullHistory.length},addEntry:function(n){n=t(n),this._historyIndex!=this._fullHistory.length-1&&this._fullHistory.splice(this._historyIndex+1),this._fullHistory.push(n),++this._historyIndex,e.$broadcast("history-changed")},removeEntry:function(n){n=t(n);for(var o=!1,i=this._fullHistory.length-1;i>=0;--i){var r=this._fullHistory[i];r.length<n.length||r.substr(0,n.length)==n&&(this._fullHistory.splice(i,1),o=!0)}o&&e.$broadcast("history-changed")},getFullHistoryItem:function(e){return this._fullHistory[e]},getHistoryIndex:function(){return this._historyIndex},setHistoryIndex:function(t){return this._historyIndex=t,e.$broadcast("history-changed"),this._fullHistory[t]},hasPreviousHistoryItem:function(){return this._historyIndex>0},hasNextHistoryItem:function(){return this._historyIndex>-1&&this._historyIndex<this._fullHistory.length-1},navigateBack:function(){if(this.hasPreviousHistoryItem())return this.setHistoryIndex(this.getHistoryIndex()-1)},navigateForward:function(){if(this.hasNextHistoryItem())return this.setHistoryIndex(this.getHistoryIndex()+1)},getUniqueHistory:function(){if(0==this.getFullHistoryCount())return[];for(var e=[],t=this.getFullHistoryCount();t-- >0;){var n=this.getFullHistoryItem(t);e.indexOf(n)==-1&&e.push(n)}return e},clearHistory:function(){this._fullHistory=[],this._historyIndex=-1,e.$broadcast("history-changed")}}}angular.module("MonstaFTP").factory("historyFactory",e),e.$inject=["$rootScope"]}(),function(){function e(e){return e.jQuery}angular.module("MonstaFTP").factory("jQuery",e),e.$inject=["$window"]}(),function(){function e(e,t){return{isNullLicense:!0,email:null,version:null,expiryDate:null,purchaseDate:null,productEdition:-1,getLicense:function(){var t=this;e.getLicense().then(function(e){if(responseIsUnsuccessful(e))return void t.handleGetFailure.call(t,e);t.handleGetSuccess.call(t,e)},function(e){t.handleGetFailure.call(t,e)})},handleGetSuccess:function(e){var n=e.data.data;null==n?this.isNullLicense=!0:(this.email=n.email,this.version=n.version,this.expiryDate=1e3*n.expiryDate,this.purchaseDate=1e3*n.purchaseDate,this.isTrial=n.isTrial,this.isNullLicense=!1,this.productEdition=n.productEdition?n.productEdition:0),t.$broadcast("license-loaded");var o=document.createEvent("CustomEvent");o.initEvent("lload",!0,!0),o.lType=this.productEdition,document.dispatchEvent(o)},handleGetFailure:function(e){t.$broadcast("modal-error:show",parseErrorResponse(e,"license reading"),null,{action:"license reading"})},isLicensed:function(){return!this.isNullLicense&&!this.isLicenseExpired()},isLicenseExpired:function(){return!this.isNullLicense&&null!=this.expiryDate&&Date.now()>this.expiryDate},isTrialLicense:function(){return!this.isNullLicense&&this.isTrial===!0}}}angular.module("MonstaFTP").factory("licenseFactory",e),e.$inject=["connectionFactory","$rootScope"]}(),function(){function e(e,t,n,o,i,r,a){function s(){f.configURL=o.getConfigURL(f.type,f.configuration),f.supportsCopy=d(),n(h).modal("show")}function c(){n(h).modal("hide"),e.$broadcast("modal-login:show")}function u(e,t){alert(t),e.select()}function l(){var e=i.find("textarea")[0];e.select();var t=!1;try{t=document.execCommand("copy")}catch(e){t=!1}t||a("COPY_FAILURE_MESSAGE").then(function(t){u(e,t)},function(){u(e,"Unfortunately your browser does not support automatic copying, please copy the address from the text box.")})}function d(){var e=r.navigator.userAgent;return!!/chrome/i.test(e)||!/safari/i.test(e)&&void 0!=document.queryCommandEnabled&&document.queryCommandEnabled("copy")}var f=this,h="#modal-login-link";f.show=s,f.hide=c,f.copy=l,t.$on("modal-login-link:show",function(e,t,n){f.type=t,f.configuration=n,f.show()}),n(h).on("shown.bs.modal",function(){n(this).find("textarea").select()})}angular.module("MonstaFTP").controller("ModalLoginLinkController",e),e.$inject=["$rootScope","$scope","jQuery","requestLoginFactory","$element","$window","$translate"]}(),function(){function e(e,t,n,o,i,r,a,s,c){function u(t){e.storedAuthenticationErrorMessage=t}function l(e){o.$broadcast("modal-confirm:show",e,oe.removeProfile)}function d(){var t=[["ftp","FTP"],["sftp","SFTP/SCP"]];DEBUG&&t.push(["mock","Mock"]),e.connectionTypes=[];for(var n=0;n<t.length;++n)Q(t[n][0])&&e.connectionTypes.push(t[n]);for(e.configuration={},e.connectionTypes.length&&(e.connectionType=e.connectionTypes[0][0]),n=0;n<e.connectionTypes.length;++n)e.configuration[e.connectionTypes[n][0]]={}}function f(){i(ne).modal("hide")}function h(){var t={};oe.isAuthenticated=n.isAuthenticated,n.isAuthenticated?(t.backdrop=!0,t.keyboard=!0):(t.backdrop="static",t.keyboard=!1),oe.updateHasServerSavedAuth();var o=i(ne);re?(o.data("bs.modal").options.backdrop=t.backdrop,o.data("bs.modal").options.keyboard=t.keyboard):(o.modal(t),re=!0),g_isNewWindowsInstall&&o.on("shown.bs.modal",function(){oe.showMissingLanguageMessage="LOGIN"===i("#modal-login-label").text(),e.$apply()}),o.modal("show")}function p(t,n){"connection-display"==n?e.connectionErrorMessage=t:"saved-profile-display"==n?e.storedAuthenticationErrorMessage=t:o.$broadcast("modal-error:show",t)}function m(e,t,n,o,i){var r;null==e?r=parseErrorResponse(t,n):(r=e.errorName,void 0!=e.context&&(o=e.context)),o.action=n,a(r,o).then(function(e){p(e,i)},function(){p(r,i)})}function g(e,t,n){var o=getLocalizedErrorFromResponse(e),i={};a(t).then(function(t){m(o,e,t,i,n)},function(){m(o,e,t,i,n)})}function y(e){return"/"!=e.substr(0,1)?"/"+e:e}function v(t){var o=e.configuration,i=e.connectionType;if("resume"==t){var r=n.initialDirectory;isEmpty(r)&&(r="/"),o[i].initialDirectory=y(r)}else isEmpty(o[i].initialDirectory)&&(o[i].initialDirectory="/"),o[i].initialDirectory=y(o[i].initialDirectory),n.initialDirectory=o[i].initialDirectory}function S(){t.writeSavedAuth(e.metaConfiguration.masterPassword,e.savedAuthentication).then(function(e){responseIsUnsuccessful(e)&&oe.handleError(e,"saving profile")},function(e){oe.handleError(e,"saving profile")})}function C(){null!=e.savedAuthentication&&"object"==typeof e.savedAuthentication||(e.savedAuthentication={}),void 0==e.savedAuthentication[e.connectionType]&&(e.savedAuthentication[e.connectionType]=[]);var t=angular.copy(e.configuration[e.connectionType]);t.name=e.metaConfiguration.enteredProfileName;var n=e.savedAuthentication[e.connectionType];"new"==e.metaConfiguration.savedProfileIndex?n.push(t):n[e.metaConfiguration.savedProfileIndex]=t,oe.writeAuthenticationToServer()}function E(){e.savedAuthentication[e.connectionType].splice(e.metaConfiguration.savedProfileIndex,1),e.metaConfiguration.savedProfileIndex=Math.min(e.metaConfiguration.savedProfileIndex,e.savedAuthentication[e.connectionType].length-1),oe.writeAuthenticationToServer()}function T(){!isEmpty(e.metaConfiguration.masterPassword)&&e.metaConfiguration.saveAuthentication&&e.hasServerSavedAuthentication&&oe.saveCurrentAuthentication()}function A(){n.postLogin(),oe.initiateAuthenticationSave(),oe.hide(),o.$broadcast("login")}function F(t,o){"resume"==t||"url"==t?("url"==t&&(e.configuration[e.connectionType].password=null,n.configuration[e.connectionType].password=null),oe.show()):oe.handleError(o,"authentication","connection-display")}function R(t){var o=angular.copy(e.configuration);oe.applyRestrictionsToConfiguration(o),n.configuration=o,"resume"!=t&&(n.initialDirectory=o[e.connectionType].initialDirectory),n.connectionType=e.connectionType,n.rememberLogin=e.metaConfiguration.rememberLogin,n.hasServerSavedAuthentication=e.hasServerSavedAuthentication}function b(e,t){responseIsUnsuccessful(t)?oe.handleAuthenticationFailure(e,t):oe.handleAuthenticationSuccess()}function I(e){t.testConnectAndAuthenticate().then(function(t){oe.successCallback(e,t)},function(t){oe.handleAuthenticationFailure(e,t)})}function w(e){oe.setupInitialDirectory(e),oe.transferConfigToAuthFactory(e),oe.handleTestConfiguration(e)}function P(){e.connectionType=n.connectionType||e.connectionTypes[0][0],Q(e.connectionType)||(e.connectionType=e.connectionTypes[0][0]),e.metaConfiguration.rememberLogin=n.rememberLogin,e.hasServerSavedAuthentication=n.hasServerSavedAuthentication}function _(t){e.configuration=angular.copy(n.configuration);var o=oe.applyRestrictionsToConfiguration(e.configuration);t||!o&&!n.isAuthenticated?oe.show():oe.testConfiguration("resume")}function D(t,o){var i={};i[t.type]=t.configuration,n.configuration=angular.copy(i),e.configuration=angular.copy(i),oe.applyRestrictionsToConfiguration(i),e.connectionType=t.type,o?oe.show():oe.testConfiguration("url")}function x(){var t=angular.copy(g_monstaPostEntryVars);delete t.settings,n.configuration=angular.copy(t),e.configuration=angular.copy(t),oe.applyRestrictionsToConfiguration(t),e.connectionType=t.type,oe.testConfiguration("url")}function L(){t.checkSavedAuthExists().then(function(t){e.hasServerSavedAuthentication=t.data.data===!0
},function(){oe.isAuthenticated=!1,e.hasServerSavedAuthentication=!1})}function M(){e.configuration.ftp&&(e.configuration.ftp.passive=!0)}function O(t){oe.addDefaultsToConfig(),oe.applyRestrictionsToConfiguration(e.configuration)&&!t?w("resume"):oe.show()}function $(e){e=!!e,oe.buildDefaultConfiguration(),n.loadSettings(),oe.transferConfigFromAuthFactory();var t=null;ie&&r.isLicensed()&&(t=c.getConfigFromCurrentURL()),null!=t?oe.initWithURLConfig(t,e):ie&&r.isLicensed()&&g_isMonstaPostEntry?oe.initWithPostedConfig():n.hasStoredAuthenticationDetails()?oe.initWithStoredAuth(e):oe.initWithDefaultAuth(e)}function N(){e.masterPasswordValid=!0,e.hasServerSavedAuthentication=!0}function q(t){e.savedAuthentication=t.data.data,e.masterPasswordValid=!0}function B(t){e.masterPasswordValid=!1,oe.handleError(t,"reading/writing the settings file","saved-profile-display")}function U(){for(var n={},o=0;o<e.connectionTypes.length;++o)n[e.connectionTypes[o][0]]=[];t.writeSavedAuth(e.metaConfiguration.masterPassword,n).then(function(e){responseIsUnsuccessful(e)?oe.handleAuthFileFailure(e):oe.handleCreateAuthSuccess(e)},function(e){oe.handleAuthFileFailure(e)})}function k(){t.readSavedAuth(e.metaConfiguration.masterPassword).then(function(e){responseIsUnsuccessful(e)?oe.handleAuthFileFailure(e):oe.handleLoadSavedAuthSuccess(e)},function(e){oe.handleAuthFileFailure(e)})}function j(t){e.configuration[e.connectionType]=angular.copy(e.savedAuthentication[e.connectionType][t]),e.metaConfiguration.enteredProfileName=e.configuration[e.connectionType].name}function H(){e.configuration[e.connectionType]={},e.metaConfiguration.enteredProfileName=null,oe.addDefaultsToConfig()}function G(e,t){return null==oe.connectionRestrictions||"object"!=typeof oe.connectionRestrictions||!oe.connectionRestrictions.hasOwnProperty(e)||!oe.connectionRestrictions[e].hasOwnProperty(t)}function z(e){if(null==oe.connectionRestrictions||"object"!=typeof oe.connectionRestrictions)return!1;var t=!1;for(var n in oe.connectionRestrictions)if(oe.connectionRestrictions.hasOwnProperty(n)&&e.hasOwnProperty(n)){var o=oe.connectionRestrictions[n];null!=o&&"object"==typeof oe.connectionRestrictions&&(t=V(e,n,o))}return t}function V(e,t,n){var o=e[t],i=!1;for(var r in n)if(n.hasOwnProperty(r)){if(n[r]===!0||1===n[r])e[t][r]=null;else{var a=n[r];if(null!=a){var s=new MessageFormat("en").compile(a);a=s({username:o.remoteUsername||o.username})}else if("initialDirectory"==r)return!1;e[t][r]=a}i=!0}return i}function Q(e){return null==oe.connectionRestrictions||"object"!=typeof oe.connectionRestrictions||"[object Array]"!=Object.prototype.toString.call(oe.connectionRestrictions.types)||0==oe.connectionRestrictions.types.length||oe.connectionRestrictions.types.indexOf(e)!=-1}function X(){return oe.applicationSettings.hideProUpgradeMessages!==!0&&!r.isLicensed()}function K(){return oe.applicationSettings.disableMasterLogin!==!0&&r.isLicensed()}function W(){o.$broadcast("modal-login-link:show",e.connectionType,e.configuration[e.connectionType]),oe.hide()}function Y(){return""!==e.metaConfiguration.savedProfileIndex&&null!==e.metaConfiguration.savedProfileIndex}function J(e,t){return void 0==e?"":!t&&e.name?e.name:null==e.host||null==e.username&&null==e.remoteUsername?"":(e.host||"host")+" / "+(e.username||e.remoteUsername||"username")}function Z(){return null==e||null==e.configuration||null==e.connectionType?"":J(e.configuration[e.connectionType],!0)}function ee(){return 0==oe.sshAgentAuthEnabled&&"Agent"==e.configuration.sftp.authenticationModeName||0==oe.sshKeyAuthEnabled&&"PublicKeyFile"==e.configuration.sftp.authenticationModeName}function te(t){e.connectionType=t,window.setTimeout(function(){e.$apply(function(){e.handleProfileChange()})})}var ne="#modal-login",oe=this,ie=!0,re=!1;e.connectionErrorMessage=null,e.storedAuthenticationErrorMessage=null,e.defaults=g_ConnectionDefaults,e.metaConfiguration={rememberLogin:!1,masterPassword:null,savedProfileIndex:null,enteredProfileName:null},e.hasServerSavedAuthentication=!1,e.savedAuthentication=null,e.licenseFactory=r,e.metaConfiguration.saveAuthentication=!0,e.systemConfiguration={},e.configuration={},oe.connectionRestrictions={},oe.applicationSettings={},oe.isAuthenticated=!1,oe.showMissingLanguageMessage=!1,oe.ftpConnectionAvailable=g_ftpConnectionAvailable,oe.buildDefaultConfiguration=d,oe.hide=f,oe.show=h,oe.handleError=g,oe.setupInitialDirectory=v,oe.writeAuthenticationToServer=S,oe.saveCurrentAuthentication=C,oe.removeProfile=E,oe.initiateAuthenticationSave=T,oe.handleAuthenticationSuccess=A,oe.handleAuthenticationFailure=F,oe.transferConfigToAuthFactory=R,oe.successCallback=b,oe.handleTestConfiguration=I,oe.testConfiguration=w,oe.transferConfigFromAuthFactory=P,oe.initWithStoredAuth=_,oe.updateHasServerSavedAuth=L,oe.addDefaultsToConfig=M,oe.initWithDefaultAuth=O,oe.init=$,oe.handleCreateAuthSuccess=N,oe.handleLoadSavedAuthSuccess=q,oe.handleAuthFileFailure=B,oe.performCreateAuthFile=U,oe.initiateLoadOfAuthFile=k,oe.loadProfileAtIndex=j,oe.loadNewProfile=H,oe.configurationSettable=G,oe.applyRestrictionsToConfiguration=z,oe.shouldShowProUpgrade=X,oe.shouldShowProfiles=K,oe.showLoginLink=W,oe.initWithURLConfig=D,oe.initWithPostedConfig=x,oe.profileIsSelected=Y,oe.getProfileName=J,oe.getDefaultProfileName=Z,oe.showDisabledSFTPAuthMessage=ee,oe.selectTab=te,e.connect=function(){e.connectionErrorMessage=null,oe.testConfiguration("form")},e.handleLoginKeyPress=function(t){13==t.which&&e.connect()},e.$on("logout",function(){ie=!1;var e=!1;if(r.isLicensed()){var t=s.getApplicationSetting("postLogoutUrl");null!=t&&(e=!0,window.setTimeout(function(){window.location=t},200))}e||oe.init(!0)}),e.$on("modal-login:show",function(){oe.show()}),e.handleAuthGo=function(){if(e.connectionErrorMessage=null,isEmpty(e.metaConfiguration.masterPassword))return void a("PROFILE_SET_PASSWORD_ERROR").then(u,u);e.storedAuthenticationErrorMessage="",e.hasServerSavedAuthentication?oe.initiateLoadOfAuthFile():oe.performCreateAuthFile()},e.masterPasswordKeypress=function(t){13==t.which&&e.handleAuthGo()},e.handleProfileChange=function(){e.connectionErrorMessage=null;var t=e.metaConfiguration.savedProfileIndex;if("new"==t)return void oe.loadNewProfile();var n=parseInt(t);isNaN(n)||oe.loadProfileAtIndex(n)},e.initiateProfileDelete=function(){a("PROFILE_DELETE_CONFIRM_MESSAGE").then(l,l)},e.shouldHideDeleteButton=function(){return!K()||isNaN(parseInt(e.metaConfiguration.savedProfileIndex))},e.$on("license-loaded",function(){oe.init()}),s.getSystemConfiguration().then(function(t){oe.sshAgentAuthEnabled=t.sshAgentAuthEnabled,oe.sshKeyAuthEnabled=t.sshKeyAuthEnabled,e.systemConfiguration=t,oe.applicationSettings=t.applicationSettings,oe.connectionRestrictions=t.applicationSettings.connectionRestrictions,r.getLicense()},function(e){r.getLicense()})}angular.module("MonstaFTP").controller("LoginPanelController",e),e.$inject=["$scope","connectionFactory","authenticationFactory","$rootScope","jQuery","licenseFactory","$translate","configurationFactory","requestLoginFactory"]}(),function(){function e(e,t,n,o,i,r){function a(){d.openSslAvailable&&(d.licenseUpdateError=null,i.updateLicense(d.models.license).then(function(){t.getLicense(),d.models.license=""},function(e){var t=e.data.localizedErrors[0];r(t.errorName,t.context).then(function(e){d.licenseUpdateError=e},function(){d.licenseUpdateError=errorMessage})}))}function s(){d.formattedExpiryDate=o("date")(t.expiryDate,"d MMMM, yyyy"),d.licenseExpired=t.isLicenseExpired(),d.isLicensed=t.isLicensed(),d.isTrialLicense=t.isTrialLicense(),d.isLicensed?1==t.productEdition?d.productEditionShortName="ENTERPRISE_EDITION":d.productEditionShortName="PROFESSIONAL_EDITION":d.productEditionShortName="STARTER_EDITION"}function c(){s(),e(l).modal("show")}function u(e){d.activeTab=e,window.setTimeout(function(){n.$apply()})}var l="#modal-addons",d=this;d.show=c,d.updateLicense=a,d.selectTab=u,d.models={license:""},d.licenseUpdateError=null,d.activeTab="addon-current",d.productEditionShortName="STARTER_EDITION",d.openSslAvailable=g_openSslAvailable,n.$on("modal-addons:show",function(){d.show()}),n.$on("license-loaded",function(){s()})}angular.module("MonstaFTP").controller("ModalAddonsController",e),e.$inject=["jQuery","licenseFactory","$scope","$filter","connectionFactory","$translate"]}(),function(){function e(e,t,n){function o(){t(c).modal("show")}function i(e){null!=e&&t(c).on("hidden.bs.modal",function(){t(c).off("hidden.bs.modal"),null!=e&&e()}),t(c).modal("hide")}function r(e){i(s.callbacks[e][1])}function a(){i(s.cancelCallback)}var s=this,c="#modal-choice";s.callbacks=[],s.cancelCallback=null,s.title=null,s.message=null,s.show=o,s.handleCallback=r,s.handleCancel=a,e.$on("modal-choice:show",function(t,o,i,r,a){s.title=o,s.message=i,s.callbacks=a,s.cancelCallback=r,n(function(){e.$apply(function(){s.show()})})})}angular.module("MonstaFTP").controller("ModalChoiceController",e),e.$inject=["$scope","jQuery","$timeout"]}(),function(){function e(e,t){function n(){t(r).modal("hide"),null!=a.okCallback&&(a.okCallback(),a.okCallback=null)}function o(){t(r).modal("hide"),null!=a.cancelCallback&&(a.cancelCallback(),a.cancelCallback=null)}function i(){t(r).modal("show")}var r="#modal-confirm",a=this;a.message="",a.okCallback=null,a.cancelCallback=null,a.show=i,a.ok=n,a.cancel=o,e.$on("modal-confirm:show",function(e,t,n,o){a.message=t,a.okCallback=void 0===n?null:n,a.cancelCallback=void 0===o?null:o,a.show()})}angular.module("MonstaFTP").controller("ModalConfirmController",["$scope","jQuery",e])}(),function(){function e(e,t,n){function o(){t(s).modal("show")}function i(){t(s).modal("hide"),a.dismissCallback&&a.dismissCallback()}function r(){}var a=this,s="#modal-error";a.message="",a.show=o,a.hide=i,a.dismissCallback=r,e.$on("modal-error:show",function(e,o,i,r){n(o,r).then(function(e){a.message=e},function(){a.message=o}),a.dismissCallback=i,t(s).modal("show")}),t(s).on("shown.bs.modal",function(){e.$apply()})}angular.module("MonstaFTP").controller("ModalErrorController",e),e.$inject=["$scope","jQuery","$translate"]}(),function(){function e(e,t,n,o,i,r){function a(){o(v).modal("show"),e.invalidRange=!1}function s(){e.filePaths=null,e.invalidRange=!1,o(v).modal("hide")}function c(t){e.permissions=i.numericToObject(t)}function u(e){for(;e.length<3;)e="0"+e;return e}function l(t){e.formattedPermissions=S.zeroPadLeft(t.toString(8))}function d(){null!=e.permissions&&S.setFormattedPermissions(i.objectToNumeric(e.permissions))}function f(t){var n=parseInt(t,8);return(isNaN(n)||n<0||n>511)&&(n=0,e.invalidRange=!0),n}function h(){S.setPermissions(S.validateFormattedPermission(e.formattedPermissions))}function p(n,o){e.saving=!1,r(["PERMISSIONS_FAILURE_PRECEDING_MESSAGE",n],o).then(function(e){t.$broadcast("modal-error:show",e.PERMISSIONS_FAILURE_PRECEDING_MESSAGE+" "+e[n])})}function m(){e.saving=!1,t.$broadcast("change-directory"),S.hide()}function g(e,t,n){null!=e?r([e.errorName,t],e.context).then(function(n){S.permissionSaveError(n[e.errorName],{action:n[t]})},function(){S.permissionSaveError(parseErrorResponse(n,t),{action:t})}):r(t).then(function(e){S.permissionSaveError(parseErrorResponse(n,e),{action:e})},function(){S.permissionSaveError(parseErrorResponse(n,t),{action:t})})}function y(){var t=0,o=i.objectToNumeric(e.permissions),a=function(){++t==e.filePaths.length&&S.permissionSaveSuccess()};e.saving=!0,e.filePaths.map(function(e){n.changePermissions(e,o).then(function(){a()},function(e){var t="CHANGE_PERMISSIONS_OPERATION",n=getLocalizedErrorFromResponse(e);void 0==n.context.operation&&(n.context.operation=t),r(n.context.operation).then(function(t){n.context.operation=t,g(n,t,e)},function(){g(n,t,e)})})})}var v="#modal-chmod",S=this;e.filePaths=null,e.permissions=null,e.formattedPermissions=null,e.invalidRange=!1,e.saving=!1,S.show=a,S.hide=s,S.validateFormattedPermission=f,S.formattedPermissionsChange=h,S.setPermissions=c,S.zeroPadLeft=u,S.setFormattedPermissions=l,S.permissionsChange=d,S.permissionSaveError=p,S.permissionSaveSuccess=m,S.initiatePermissionsSave=y,e.$on("modal-permissions:show",function(t,n,o){e.filePaths=n,S.setPermissions(o),S.show()}),e.$watch("permissions",S.permissionsChange,!0),e.$watch("formattedPermissions",S.formattedPermissionsChange),e.manualFocus=function(){e.invalidRange=!1},e.okClick=function(){e.invalidRange||S.initiatePermissionsSave()},e.cancelClick=function(){S.hide()}}angular.module("MonstaFTP").controller("ModalPermissionsController",e),e.$inject=["$scope","$rootScope","connectionFactory","jQuery","permissionsFactory","$translate"]}(),function(){function e(e,t,n){var o=this;this.setVars=function(t,o,i){n(t).then(function(t){e.title=t},function(){e.title=t}),n(i).then(function(t){e.placeHolder=t},function(){e.placeHolder=i}),e.initial=o,e.final=o,e.errorSet=!1,e.errorMessage="",e.isBusy=!1,e.busyMessage=null,this.updateDismissMessage()},this.updateDismissMessage=function(){n(e.busyMessage||"DISMISS_OK_ACTION").then(function(t){e.dismissMessage=t},function(t){e.dismissMessage=t})},t("#modal-prompt").on("shown.bs.modal",function(){t(this).find("input[type=text]").focus()}),this.setVars("","",""),this.successCallback=function(){},e.successClose=function(){o.successCallback(e.final,e.initial)},e.handlePromptKeypress=function(t){13==t.which&&e.successClose()},this.show=function(){t("#modal-prompt").modal("show"),o.clearError(),o.clearBusy()},this.hide=function(){t("#modal-prompt").modal("hide")},this.clearError=function(){e.errorSet=!1,e.errorMessage=""},this.setBusy=function(t){e.isBusy=!0,e.busyMessage=t,this.updateDismissMessage()},this.clearBusy=function(){e.isBusy=!1,e.busyMessage=null,this.updateDismissMessage()},e.$on("modal-prompt:show",function(e,t,n,i,r){o.setVars(t,n,i),o.successCallback=r,o.show()}),e.$on("modal-prompt:set-error",function(t,o){e.errorSet=!0,n(o).then(function(t){e.errorMessage=t},function(){e.errorMessage=o})}),e.$on("modal-prompt:clear-error",function(){o.clearError()}),e.$on("modal-prompt:hide",function(){o.hide()}),e.$on("modal-prompt:set-busy",function(e,t){o.setBusy(t)}),e.$on("modal-prompt:clear-busy",function(){o.clearBusy()})}angular.module("MonstaFTP").controller("ModalPromptController",e),e.$inject=["$scope","jQuery","$translate"]}(),function(){function e(e,t){function n(){e(r).modal("hide")}function o(t){i.item=t,e(r).modal("show")}var i=this,r="#modal-properties";i.item=null,i.hide=n,i.show=o,t.$on("modal-properties:show",function(e,t){i.show(t)})}angular.module("MonstaFTP").controller("ModalPropertiesController",e),e.$inject=["jQuery","$scope"]}(),function(){function e(e,t,n,o,i,r){function a(){d=h.applicationSettings.showDotFiles,e(f).modal("show")}function s(){e(f).modal("hide")}function c(e){h.systemShowDotFiles=e.applicationSettings.showDotFiles,p=Object.keys(e.applicationSettings)}function u(e){showResponseError(e,"SYSTEM_VAR_LOAD_OPERATION",o,i)}function l(){for(var e in h.applicationSettings)h.applicationSettings.hasOwnProperty(e)&&r.setConfigurationItem(e,h.applicationSettings[e]);h.applicationSettings.showDotFiles!=d&&o.$broadcast("change-directory"),s()}var d,f="#modal-settings",h=this,p=[];h.applicationSettings={},h.show=a,h.saveSettings=l,h.debug=DEBUG,h.systemShowDotFiles=!1,h.languageFiles=g_languageFiles,n.getSystemConfiguration().then(c,u),t.$on("modal-settings:show",function(){r.getApplicationSettings().then(function(){for(var e=0;e<p.length;++e){var t=p[e];h.applicationSettings[t]=r.getConfigurationItem(t)}h.show()},u)}),o.$on("configuration:key-changed",function(e,t,n){"language"==t&&i.use(n)})}angular.module("MonstaFTP").controller("ModalSettingsController",e),e.$inject=["jQuery","$scope","configurationFactory","$rootScope","$translate","localConfigurationFactory"]}(),function(){function e(e,n,o,i,r,a){function s(n){var i=e.getUploads();if(0==i.length)m=null,p.uploads=i,p.hide();else{var a=n?0:t;n&&null!=m&&(clearTimeout(m),m=null),null==m&&(p.uploads=i,m=r(function(){o.$apply(),m=null},a))}}function c(){p.updateUploads(),0==p.uploads.length?n.$broadcast("change-directory"):n.$broadcast("change-directory:on-upload")}function u(){p.updateUploads(),i(h).modal("show")}function l(){i(h).modal("hide")}function d(t){e.abortItem(t),p.updateUploads()}function f(){e.abortAll()}var h="#modal-transfers",p=this,m=null;p.updateUploads=s,p.uploadFinished=c,p.show=u,p.hide=l,p.abortItem=d,p.abortAll=f,p.fsFilter=a("file_size"),p.uploads=[],p.itemToAbort=null,e.updateCallback=p.updateUploads,o.$on("upload:load",this.uploadFinished),o.$on("upload:add",this.show)}var t=200;angular.module("MonstaFTP").controller("ModalTransferController",e),e.$inject=["uploadFactory","$rootScope","$scope","jQuery","$timeout","$filter"]}(),function(){function e(e){function t(t){var n="";t.stats.completedBytes==t.stats.totalBytes&&(n=" progress-bar-striped"),t.hasError||(n+=" active");var o=e(t);return'<div class="progress-bar progress-bar-success'+n+'" role="progressbar" aria-valuenow="'+o+'" aria-valuemin="0" aria-valuemax="100" style="width: '+o+'%;"></div>'}return{restrict:"E",scope:{upload:"="},template:"<div></div>",link:function(e,n,o){var i=function(){n.html(t(e.upload))};i(),e.$watch("upload.stats",function(){i()},!0)}}}angular.module("MonstaFTP").directive("uploadProgressBar",e),e.$inject=["transfer_percentFilter"]}(),function(){function e(){return{objectToNumeric:function(e){return(e.ownerRead?256:0)+(e.ownerWrite?128:0)+(e.ownerExecute?64:0)+(e.groupRead?32:0)+(e.groupWrite?16:0)+(e.groupExecute?8:0)+(e.otherRead?4:0)+(e.otherWrite?2:0)+(e.otherExecute?1:0)},numericToObject:function(e){return{ownerRead:0!=(256&e),ownerWrite:0!=(128&e),ownerExecute:0!=(64&e),groupRead:0!=(32&e),groupWrite:0!=(16&e),groupExecute:0!=(8&e),otherRead:0!=(4&e),otherWrite:0!=(2&e),otherExecute:0!=(1&e)}}}}angular.module("MonstaFTP").factory("permissionsFactory",e)}(),function(){function e(e,t,n,o,i,r,a){function s(){null!=g&&g.close("slidebar")}function c(){s(),t.logout(),n.$broadcast("logout")}function u(e){s(),n.$broadcast("modal-confirm:show",e,m.confirmLogout)}function l(){s(),i("LOGOUT_CONFIRM_MESSAGE").then(u,u)}function d(){s(),n.$broadcast("modal-addons:show")}function f(){s(),n.$broadcast("modal-settings:show")}function h(){s(),n.$broadcast("modal-login:show")}function p(e){return!!m.itemDisplay.hasOwnProperty(e)&&m.itemDisplay[e]===!1}var m=this,g=null;m.showHelpButton=!0,m.showAddOnsButton=!0,m.showChangeServerButton=!0,m.customHelpUrl=null,m.itemDisplay={},o("#slidebar").ready(function(){g=new slidebars,g.init()}),o("#slidebar-toggle").click(function(){null!=g&&g.toggle("slidebar")}),m.confirmLogout=c,m.initiateLogout=l,m.showAddonsModal=d,m.showSettingsModal=f,m.showLoginPanel=h,m.itemHidden=p,e.$on("license-loaded",function(){a.isLicensed()&&r.getSystemConfiguration().then(function(){m.showHelpButton=!r.getApplicationSetting("disableHelpButton"),m.showAddOnsButton=!r.getApplicationSetting("disableAddOnsButton"),m.customHelpUrl=r.getApplicationSetting("helpUrl"),m.showChangeServerButton=!r.getApplicationSetting("disableChangeServerButton"),m.itemDisplay=r.getApplicationSetting("sidebarItemDisplay")||{}},function(){})}),e.$on("file-editor:will-show",function(){s()})}angular.module("MonstaFTP").controller("SlidebarController",e),e.$inject=["$scope","authenticationFactory","$rootScope","jQuery","$translate","configurationFactory","licenseFactory"]}(),function(){function e(e){e.spinnerVisible=!1,e.$on("request-count-change",function(t,n){e.spinnerVisible=0!=n})}angular.module("MonstaFTP").controller("SpinnerController",e),e.$inject=["$scope"]}(),function(){function e(e){return{cutSource:null,copySource:null,currentDirectory:"",setCutSource:function(t){this.cutSource=t,this.copySource=null,null!=t&&e.$broadcast("paste-source:set")},setCopySource:function(t){this.copySource=t,this.cutSource=null,null!=t&&e.$broadcast("paste-source:set")},pasteComplete:function(){null!=this.cutSource&&e.$broadcast("paste-source:cleared"),this.cutSource=null},clearCutAndCopySource:function(){this.copySource=null,this.cutSource=null,e.$broadcast("paste-source:cleared")},isCutOrCopySource:function(e){return e==this.copySource||e==this.cutSource},joinNameToCurrentDirectory:function(e){return pathJoin(this.currentDirectory,e)}}}angular.module("MonstaFTP").factory("uiOperationFactory",e),e.$inject=["$rootScope"]}(),function(){function e(e){function t(e,t){void 0!==t.name&&delete t.name;var n={t:e,c:f.compactConfigKeys(t)};return encodeURIComponent(b64EncodeUnicode(JSON.stringify(n)))}function n(e){var t=JSON.parse(b64DecodeUnicode(decodeURIComponent(e)));return{type:t.t,configuration:f.uncompactConfigKeys(t.c)}}function o(e){if(isEmpty(e))return null;"/"==e.substr(0,1)&&(e=e.substr(1));var t=e.split("/");if(t.length<4||"c"!=t[0])return null;var n=t[1],o=t[2],i=t[3],r=null;try{r=f.decodeConfiguration(i)}catch(e){return null}if("_"!=n&&(r.configuration.host=n),"_"!=o){var a="sftp"==r.type?"remoteUsername":"username";r.configuration[a]=o}return r}function i(){return e.absUrl().split("#")[0]}function r(e,t){if(null==t)return null;t=angular.copy(t);var n=null,o=null;t.hasOwnProperty("host")&&(n=t.host,delete t.host);var i="sftp"==e?"remoteUsername":"username";t.hasOwnProperty(i)&&(o=t[i],delete t[i]),n=isEmpty(n)?"_":encodeURIComponent(n),o=isEmpty(o)?"_":encodeURIComponent(o);var r="/c/"+n+"/"+o+"/"+f.encodeConfiguration(e,t);return f.getPreHashURL()+"#"+r}function a(){var t=e.absUrl(),n=t.split("#");return 1==n.length?null:o(n[1])}function s(e){for(var t=[["passive","v"],["ssl","s"],["password","p"],["initialDirectory","i"],["port","o"],["authenticationModeName","m"],["privateKeyFilePath","r"],["publicKeyFilePath","q"]],n=e?1:0,o=e?0:1,i={},r=0;r<t.length;++r)i[t[r][o]]=t[r][n];return i}function c(e,t){var n={},o=s(e);for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];o.hasOwnProperty(i)&&(i=o[i]),e?r===!0?r=1:r===!1&&(r=0):(1===r&&(r=!0),0===r&&(r=!1)),n[i]=r}return n}function u(e){return c(!0,e)}function l(e){return c(!1,e)}function d(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return t=String(t).replace(/[&<>"]/g,function(e){return n[e]}),'<input type="hidden" name="'+e+'" value="'+t+'">'}var f={};return f.encodeConfiguration=t,f.decodeConfiguration=n,f.getPreHashURL=i,f.getConfigURL=r,f.compactConfigKeys=u,f.uncompactConfigKeys=l,f.decodePostHash=o,f.getConfigFromCurrentURL=a,f.getFormFieldHTML=d,f}angular.module("MonstaFTP").factory("requestLoginFactory",e),e.$inject=["$location"]}(),function(){function e(e,t,n){return{updateCallback:null,_uploads:[],_activeUploadCount:0,addUpload:function(e,n,o,i,r){return FEATURE_EXTRACT_UPLOAD||(r=!1),!(MAX_UPLOAD_BYTES!=-1&&i>MAX_UPLOAD_BYTES||(this._uploads.push({name:e,remotePath:n,file:o,request:null,stats:new FileTransferStats(i),hasError:!1,isArchive:r,archiveExtractMax:0,archiveExtractCurrent:-1,sessionKey:null}),t.$broadcast("upload:add"),this._activeUploadCount<MAX_CONCURRENT_UPLOADS&&this.startUploadOfItemAtIndex(this._uploads.length-1),0))},startNextItem:function(){if(!(this._activeUploadCount>=MAX_CONCURRENT_UPLOADS))for(var e=0;e<this._uploads.length;++e)if(!this._uploads[e].stats.hasBeenStarted()){this.startUploadOfItemAtIndex(e);break}},getUploads:function(){return this._uploads},getUploadItem:function(e){return this._uploads[e]},progressItem:function(e,t){e.stats.updateTransferAmount(t)&&null!=this.updateCallback&&this.updateCallback()},getUploadRequestBody:function(t,n){var o=e.getRequestBody();return o.actionName=n?"uploadArchive":UPLOAD_ACTION,o.context={remotePath:t},o},encodeRequestBody:function(e){return b64EncodeUnicode(JSON.stringify(e))},getXHR:function(){return new XMLHttpRequest},startXHR:function(e,t,n){++this._activeUploadCount,e.open("POST","application/api/upload.php"),e.setRequestHeader("X-Monsta",this.encodeRequestBody(t)),e.setRequestHeader("Content-Type","application/octet-stream"),e.send(n),null!=this.updateCallback&&this.updateCallback(!0)},startMultiStageUploadXHR:function(e,t,n){e.open("POST","application/api/upload-multistage.php?sessionKey="+t),e.setRequestHeader("Content-Type","application/octet-stream"),e.send(n),null!=this.updateCallback&&this.updateCallback(!0)},addEventProgressListenersToRequest:function(e,t,n){var o=this;e.upload.addEventListener("progress",function(n){e.readyState==XMLHttpRequest.OPENED&&o.progressItem(t,n.lengthComputable?n.loaded:null)},!1),e.upload.addEventListener("load",function(){t.stats.completedBytes=t.stats.totalBytes,null!=o.updateCallback&&o.updateCallback()},!1),e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&(200===e.status?FEATURE_MULTI_STAGE_UPLOAD?o.transferItemAtIndexToRemote(n):o.completeItem(t,e.responseText,!1):0!==e.status&&(safeConsoleError(e),o.setItemError(t,e.status,e.statusText)))}},startStandardUploadOfItemAtIndex:function(e){var t=this._uploads[e],n=this.getXHR();t.request=n;var o=this.getUploadRequestBody(t.remotePath,t.isArchive);this.addEventProgressListenersToRequest(n,t,e),this.startXHR(n,o,t.file),t.stats.wasStarted()},startMultiStageUploadOfItemAtIndex:function(e,t){var n=this._uploads[e],o=this.getXHR();n.request=o,n.sessionKey=t,this.addEventProgressListenersToRequest(o,n,e),this.startMultiStageUploadXHR(o,t,n.file),n.stats.wasStarted()},startUploadOfItemAtIndex:function(o){if(FEATURE_MULTI_STAGE_UPLOAD){++this._activeUploadCount;var i=this,r=this._uploads[o];e.reserveUploadContext(UPLOAD_ACTION,r.remotePath).then(function(e){if(responseIsUnsuccessful(e))return void showResponseError(e,"UPLOAD_OPERATION",t,n);i.startMultiStageUploadOfItemAtIndex(o,e.data.data)},function(e){showResponseError(e,"UPLOAD_OPERATION",t,n)})}else this.startStandardUploadOfItemAtIndex(o)},progressExtract:function(o,i,r,a){var s=this;e.extractArchive(o,a,8).then(function(){i.archiveExtractCurrent=Math.min(a+8,r),a+8>r+1?s.completeItem(i,null,!0):s.progressExtract(o,i,r,a+8)},function(e){showResponseError(e,"EXTRACT_ARCHIVE_OPERATION",t,n),s.completeItem(i,null,!0)})},transferItemAtIndexToRemote:function(o){var i=this._uploads[o],r=this;e.transferUploadToRemote(i.sessionKey).then(function(e){if(responseIsUnsuccessful(e))return void showResponseError(e,"UPLOAD_OPERATION",t,n);r.completeItem(i,null,!1)},function(e){showResponseError(e,"UPLOAD_OPERATION",t,n),r.completeItem(i,null,!1)})},completeItem:function(e,t,n){var o=this;if(e.isArchive&&!n){var i=JSON.parse(t);e.archiveExtractCurrent=0,e.archiveExtractMax=i.fileCount,this.progressExtract(i.fileKey,e,i.fileCount,0)}else--this._activeUploadCount,e.request=null,e.stats.complete(),this.removeItem(e),setTimeout(function(){o.broadcastComplete.call(o)},0)},broadcastComplete:function(){t.$broadcast("upload:load"),this.startNextItem(),null!=this.updateCallback&&this.updateCallback(!0)},abortItem:function(e){--this._activeUploadCount,null!=e.request&&(e.request.abort(),e.request=null),this.removeItem(e),t.$broadcast("upload:abort"),this.startNextItem()},removeItem:function(e){this._uploadIterator(function(t,n){if(e.remotePath==n.remotePath)return null==n.request&&(this._uploads.splice(t,1),!1)})},setItemError:function(e,t,n){e.hasError=!0,e.statusCode=t,e.statusText=n,null!=e.request&&(e.request=null,null!=this.updateCallback&&this.updateCallback())},_uploadIterator:function(e){for(var t=0;t<this._uploads.length&&e.call(this,t,this._uploads[t])!==!1;++t);},abortAll:function(){for(var e=0;e<this._uploads.length;++e){var t=this._uploads[e];null!=t.request&&(t.request.abort(),t.request=null)}this._uploads=[],this._activeUploadCount=0,null!=this.updateCallback&&this.updateCallback(!0)}}}angular.module("MonstaFTP").factory("uploadFactory",e),e.$inject=["connectionFactory","$rootScope","$translate"]}(),function(){function e(e,t,n,o,i){function r(e){o.$broadcast("modal-error:show",e,function(){})}function a(e,t){for(var n=0;n<t.length;++n){var o=t[n];e+="<br>&nbsp;&nbsp;&nbsp;&nbsp;"+o[0]+" ("+c(o[1])+")"}r(e)}function s(e,t,n){t.$broadcast("modal-choice:show","EXTRACT_AFTER_UPLOAD_TITLE",n,function(){e.filesToQueue.splice(e.fileQueueIndex,1),e.processUploadQueue()},[["UPLOAD_STANDARD_ACTION",function(){e.uploadStandardCallback()}],["UPLOAD_EXTRACT_ACTION",function(){e.uploadAndExtractCallback()}]])}var c=n("file_size");return{tooLargeFiles:[],filesToQueue:[],fileQueueIndex:0,treeTotalSize:0,treeProcessed:0,traverseFinished:!1,uploadStandardCallback:function(){this.filesToQueue[this.fileQueueIndex][4]=!1,this.processUploadQueue()},uploadAndExtractCallback:function(){this.filesToQueue[this.fileQueueIndex][4]=!0,this.processUploadQueue()},promptForExtract:function(e){var t=this;i("EXTRACT_AFTER_UPLOAD_MESSAGE",{file_name:e,file_type:extractFileExtension(e)}).then(function(e){s(t,o,e)},function(){s(t,o,"Extract "+e+" after uploading?")})},processUploadQueue:function(){if(this.fileQueueIndex>=this.filesToQueue.length)return this.checkTooLargeFiles(),void this.performUploads();var e=this.filesToQueue[this.fileQueueIndex];null==e[4]&&isExtractSupported(e[0])?this.promptForExtract(e[0]):(++this.fileQueueIndex,this.processUploadQueue())},performUploads:function(){for(var e=0;e<this.filesToQueue.length;++e){var n=this.filesToQueue[e];t.addUpload(n[0],n[1],n[2],n[3],n[4])}this.filesToQueue=[],this.fileQueueIndex=0,this.tooLargeFiles=[]},checkTooLargeFiles:function(){if(0!=this.tooLargeFiles.length){var e=this.tooLargeFiles.slice();i("UPLOAD_FILES_TOO_LARGE_MESSAGE",{item_count:this.tooLargeFiles.length,maximum_size:c(MAX_UPLOAD_BYTES)}).then(function(t){a(t,e)},function(t){a(t,e)})}},doUploadAdd:function(t,n,o){var i=e.joinNameToCurrentDirectory(n);t.size>MAX_UPLOAD_BYTES?this.tooLargeFiles.push([n,t.size]):this.filesToQueue.push([t.name,i,t,t.size,o])},traverseFileTree:function(e,t,n){t=t||"";var o=this;if(e.isFile)++o.treeTotalSize,e.file(function(i){++o.treeProcessed;var r=pathJoin(t,e.name);o.doUploadAdd.call(o,i,r,n),o.traverseFinished&&o.treeProcessed==o.treeTotalSize&&o.processUploadQueue()});else if(e.isDirectory){var i=e.createReader();i.readEntries(function(i){for(var r=0;r<i.length;++r)o.traverseFileTree.call(o,i[r],pathJoin(t,e.name),n)})}},handleItemsBasedUpload:function(e,t){FEATURE_EXTRACT_UPLOAD||(t=!1),this.tooLargeFiles=[],this.filesToQueue=[],this.fileQueueIndex=0,this.treeTotalSize=0,this.treeProcessed=0,this.traverseFinished=!1;for(var n=0;n<e.length;++n){var o=e[n].webkitGetAsEntry();o&&this.traverseFileTree(o,null,t)}this.fileQueueIndex=0,this.traverseFinished=!0},handleFilesBasedUpload:function(e,t){FEATURE_EXTRACT_UPLOAD||(t=!1),this.tooLargeFiles=[],this.filesToQueue=[],this.fileQueueIndex=0;var n=0,o=this,a=function(){if(n==e.length){for(d=0;d<e.length;++d){f=e[d];var i=f.webkitRelativePath?f.webkitRelativePath:f.name;o.doUploadAdd.call(o,f,i,t)}o.processUploadQueue()}};if(void 0==window.FileReader)return n=e.length,void a();var s=function(){++n,a()},c=function(){i("FOLDER_UPLOAD_NOT_SUPPORTED_MESSAGE").then(r,r)};if(0==e.length)return void c();for(var u=window.navigator.userAgent,l=/trident/i.test(u)||/msie/i.test(u),d=0;d<e.length;++d)if(l)s();else{var f=e[d],h=new FileReader;if(h.onerror=function(e){c()},h.onload=s,f.size<=MAX_UPLOAD_BYTES)try{var p=f.slice(0,Math.min(f.size,1024));0==p.size?h.readAsBinaryString(f):h.readAsBinaryString(p)}catch(e){}else s()}}}}angular.module("MonstaFTP").factory("uploadUIFactory",e),e.$inject=["uiOperationFactory","uploadFactory","$filter","$rootScope","$translate"]}(),function(){function e(e){function t(t){if("number"!=typeof t)return"";var n,o=new Date(1e3*t),i=new Date;return n=o.getDate()==i.getDate()&&o.getMonth()==i.getMonth()&&o.getFullYear()==i.getFullYear()?"shortTime":"mediumDate",e(o,n)}return t}angular.module("MonstaFTP").filter("file_last_modified",e),e.$inject=["dateFilter"]}(),angular.module("MonstaFTP").filter("file_size",function(){return function(e){return e<0&&(e=0),normalizeFileSize(e)}}),angular.module("MonstaFTP").filter("html_safe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),function(){function e(){function e(e,t){var n=new Date(1e3*e)
;return t===!0?n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear():n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()}return function(t,n){if("number"!=typeof t)return"";var o,i,r=Date.now()/1e3-t,a=[[3540,60,"minute"],[82800,3600,"hour"],[2592e3,86400,"day"]];if(r<0||r>a[a.length-1][0])return e(t,n);if(r<=60)return"now";for(var s=0;s<a.length;++s)if(!(r>a[s][0])){o=Math.round(r/a[s][1]),i=a[s][2];break}return 1!=o&&(i+="s"),o+" "+i+" ago"}}angular.module("MonstaFTP").filter("human_time_since",e)}(),angular.module("MonstaFTP").filter("icon",function(){return function(e){if(e.isDirectory)return"fa-folder";if(e.isLink)return"fa-long-arrow-right";var t="";switch(extractFileExtension(e.name)){case"doc":case"docx":t="word";break;case"xlr":case"xls":case"xlsx":t="excel";break;case"ppt":case"pps":case"pptx":t="powerpoint";break;case"pdf":t="pdf";break;case"txt":case"rtf":case"text":t="text";break;case"bmp":case"gif":case"jpg":case"png":case"psd":case"tif":case"ai":case"eps":case"svg":case"ps":case"jpeg":t="image";break;case"avi":case"flv":case"m4v":case"mov":case"mp4":case"mkv":case"mpg":case"wmv":t="video";break;case"wav":case"mp3":case"wma":case"m4a":case"m4p":case"mpa":case"flac":case"aif":case"aiff":t="audio";break;case"tar":case"zip":case"tgz":case"gz":case"gzip":case"rar":t="archive";break;case"htm":case"html":case"php":case"asp":case"aspx":case"js":case"css":case"xhtml":case"cfm":case"pl":case"py":case"c":case"cpp":case"rb":case"java":case"xml":case"json":t="code"}return"fa-file"+(""==t?"":"-")+t+"-o"}}),angular.module("MonstaFTP").filter("item_permission_description",["permissionsFactory",function(e){return function(t){var n=t.isDirectory?"d":"-",o=e.numericToObject(t.numericPermissions);return n+=o.ownerRead?"r":"-",n+=o.ownerWrite?"w":"-",n+=o.ownerExecute?"x":"-",n+=o.groupRead?"r":"-",n+=o.groupWrite?"w":"-",n+=o.groupExecute?"x":"-",n+=o.otherRead?"r":"-",n+=o.otherWrite?"w":"-",n+=o.otherExecute?"x":"-"}}]),angular.module("MonstaFTP").filter("sort_description",function(){return function(e){switch(e){case"modified":return"CHANGED";default:return e.toUpperCase()}}}),angular.module("MonstaFTP").filter("spaces_to_nbsp",function(){return function(e){return e.replace(/ /g,String.fromCharCode(160))}}),angular.module("MonstaFTP").filter("transfer_percent",function(){return function(e){return e.hasError||null!=e.request||e.stats.hasBeenStarted()?null==e.stats?0:0!=e.archiveExtractMax&&e.archiveExtractCurrent!=-1?e.archiveExtractCurrent/e.archiveExtractMax*100:e.stats.getTransferPercent():0}}),angular.module("MonstaFTP").filter("transfer_rate",function(){return function(e){if(null==e.stats)return"-";var t=e.stats.calculateTransferRate(),n=normalizeFileSize(t);return""==n?"-":n+"/s"}}),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),document.addEventListener("lload",function(e){if(1!=e.lType){var t=["substr","","i","getElementsByTagName","o","f","T","fromCharCode","M","n","s","t","a"," ","toUpperCase","text","l","e","r","toolbar","getElementsByClassName","length","getComputedStyle","backgroundColor","53, 53, 53","indexOf","353535","g","tagName","SP","N","offsetWidth","offsetHeight","currentStyle","slice","backgroundImage","m","a-","w.png","arCod","g_","le","th","ad","C","mp","te","rom","Ch","innerHTML","body","c","ati","up","gra","trim"," de ","URL","random","setTimeout"];window[t[59]](function(){var e=((typeof t[1]+t[1])[t[0]](0,3),(!0+t[1])[t[0]](0,1)),n=(!1+t[1])[t[0]](2,1),o=(!1+t[1])[t[0]](4,1),i=(!1+t[1])[t[0]](2,1),r=document[t[3]](e+t[2]+e+n+o)[0],a=t[4],s=t[5]+t[6]+String[t[7]](80),c=t[8]+a+t[9]+t[10]+t[11]+t[12]+t[13]+s[t[14]](),u=r[t[15]]!=c,l=t[4],d=window,f=d[t[12]+t[16]+t[17]+t[18]+t[11]],h=document[t[20]](t[19]);if(2!=h[t[21]])u=!0;else for(var p=0;p<h[t[21]];++p){var m=h[p],g=window[t[22]](m),y=g[t[23]];if(y[t[25]](t[24])==-1&&y[t[25]](t[26])==-1){u=!0;break}}if(!u)for(var v=i+l+t[27]+l,S=document[t[20]](v),C=0;C<S[t[21]];++C)if(S[C][t[28]]==t[29]+(!1+t[1])[t[0]](1,1)[t[14]]()+t[30]){var E=S[C][t[31]],T=S[C][t[32]];if(144!=E&&29!=E&&(u=!0),52!=T&&75!=T&&(u=1),!u){var A=S[C][t[33]]||d[t[22]](S[C],0),F=A[t[35]][t[34]](4,-1);u=F[t[25]](t[36]+l+t[9]+t[10]+t[11]+t[37]+i+l+t[27]+l+-400+t[38])==-1}break}var R=String,b=t[39],I=t[40],w=t[41],P=w+t[9]+I[t[0]](0,1)+t[42];if(d[I+t[16]+a+t[43]+t[44]+a+t[45]+w+t[46]]=!u,u){for(var _=[164,202,196,228,194,220,200,210,220,206,64,222,204],D=t[1],x=0;x<_[P];++x)D+=R[t[5]+t[47]+t[48]+b+t[17]](_[x]/2);D+=t[13]+c+t[13];for(var L=[52.5,57.5,16,55.5,55,54,60.5,16,56,50.5,57,54.5,52.5,58,58,50.5,50,16,59.5,52.5,58,52,16,58,52,50.5,16,34.5,55,58,50.5,57,56,57,52.5,57.5,50.5,16,34.5,50,52.5,58,52.5,55.5,55,23,16,33.5,54,52.5,49.5,53.5,16,39.5,37.5,23.5,33.5,54,55.5,57.5,50.5,16,51,55.5,57,16,54.5,55.5,57,50.5,16,50,50.5,58,48.5,52.5,54,57.5,23],M=0;M<L[P];++M)D+=R[t[5]+t[47]+t[48]+b+t[17]](2*L[M]);document[t[50]][t[49]]=t[1],f(D),d[t[16]+a+t[51]+t[52]+a+t[9]]=d[I+t[53]+t[54]+t[56][t[55]]()+t[57]]}},Math[t[58]]()%3e3+5e3);for(var n=document.getElementsByTagName("style"),o=0;o<n.length;++o){var i=n[o];void 0!=i.text&&void 0!=i.text.indexOf&&i.text.indexOf("ng-cloak")==-1&&i.parentNode.removeChild(i)}for(var r=document.getElementsByTagName("link"),a=0;a<r.length;++a){var s=r[a];if("stylesheet"==s.getAttribute("rel")){var c=s.getAttribute("href");void 0!=c&&0!=c.indexOf("//ajax.googleapis.com")&&0!=c.indexOf("//maxcdn.bootstrapcdn.com")&&0!=c.indexOf("//fonts.googleapis.com")&&0!=c.indexOf("//cdnjs.cloudflare.com")&&"application/frontend/css/monsta.css"!=c&&s.parentNode.removeChild(s)}}g_loadComplete||document.getElementsByTagName("body")[0].classList.add("ul")}});
//# sourceMappingURL=monsta-min-2.3.8.js.map
